<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">README</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">DOT.Definitions.Syntax.Types</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Bool.Bool</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Lib.LibExtra.html#"><span class="id" title="library">LibExtra</span></a> <a class="idref" href="DOT.Lib.DotTactics.html#"><span class="id" title="library">DotTactics</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#"><span class="id" title="library">SyntaxClasses</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#"><span class="id" title="library">Vars</span></a> <a class="idref" href="DOT.Lib.TransformCollect.html#"><span class="id" title="library">TransformCollect</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">Initialization Types</h1>
 We define initialization types early on so that we can type constructors
with them 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="init_typ"><span class="id" title="inductive">init_typ</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="committed"><span class="id" title="constructor">committed</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#init_typ"><span class="id" title="inductive">init_typ</span></a><br/>
&nbsp;&nbsp;| <a name="free"><span class="id" title="constructor">free</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#init_typ"><span class="id" title="inductive">init_typ</span></a><br/>
&nbsp;&nbsp;| <a name="unspecified"><span class="id" title="constructor">unspecified</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#init_typ"><span class="id" title="inductive">init_typ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="inits"><span class="id" title="abbreviation">inits</span></a> := (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#init_typ"><span class="id" title="inductive">init_typ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="init_ctx"><span class="id" title="abbreviation">init_ctx</span></a> := (<span class="id" title="definition">env</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#init_typ"><span class="id" title="inductive">init_typ</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab8"></a><h1 class="section">Types</h1>

    Types (<span class="inlinecode"><span class="id" title="var">typ</span></span>, <span class="inlinecode"><span class="id" title="var">S</span></span>, <span class="inlinecode"><span class="id" title="var">T</span></span>, <span class="inlinecode"><span class="id" title="var">U</span></span>), type lists (<span class="inlinecode"><span class="id" title="var">typs</span></span>, <span class="inlinecode"><span class="id" title="var">Ts</span></span>) and type
    declarations (<span class="inlinecode"><span class="id" title="var">dec</span></span>, <span class="inlinecode"><span class="id" title="var">D</span></span>):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">typ_top</span></span> represents <span class="inlinecode"><span class="id" title="var">top</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_bot</span></span> represents <span class="inlinecode"><span class="id" title="var">bottom</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_rcd</span></span> <span class="inlinecode"><span class="id" title="var">d</span></span> represents a record type <span class="inlinecode"><span class="id" title="var">d</span></span>, where <span class="inlinecode"><span class="id" title="var">d</span></span> is either a type or
      field declaration;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_and</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents an intersection type <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_sel</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> represents type selection <span class="inlinecode"><span class="id" title="var">x.A</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_bnd</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a recursive type <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)</span>; however, since <span class="inlinecode"><span class="id" title="var">x</span></span> is
      bound in the recursive type, it is referred to in <span class="inlinecode"><span class="id" title="var">T</span></span> using the de Bruijn
      index 0, and is therefore omitted from the type representation; we will
      denote recursive types as <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_all</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents the dependent function type <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)<span class="id" title="var">U</span></span>; as
      in the previous case, <span class="inlinecode"><span class="id" title="var">x</span></span> represents a variable bound in <span class="inlinecode"><span class="id" title="var">U</span></span>, and is
      therefore omitted from the representation; we will denote function types
      as <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">T</span>)<span class="id" title="var">U</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_con</span></span> <span class="inlinecode"><span class="id" title="var">Ts</span></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents the dependent constructor <span class="inlinecode"><span class="id" title="var">K</span>(<span class="id" title="var">ys</span>:</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">Ts</span>)<span class="id" title="var">mu</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span>)</span>;
      as in the previous case, <span class="inlinecode"><span class="id" title="var">x</span></span> represents a variable bound in <span class="inlinecode"><span class="id" title="var">U</span></span>, and <span class="inlinecode"><span class="id" title="var">ys</span></span>
      represent arguments to the constructor that are free in <span class="inlinecode"><span class="id" title="var">U</span></span>; we will
      denote constructor types as <span class="inlinecode"><span class="id" title="var">K</span>(<span class="id" title="keyword">is</span></span> <span class="inlinecode"><span class="id" title="var">Ts</span>)<span class="id" title="var">U</span></span> or <span class="inlinecode"><span class="id" title="var">K</span>(<span class="id" title="var">i1</span></span> <span class="inlinecode"><span class="id" title="var">T1</span>,</span> <span class="inlinecode">...)<span class="id" title="var">U</span></span>.

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="typ"><span class="id" title="inductive">typ</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="typ_top"><span class="id" title="constructor">typ_top</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_bot"><span class="id" title="constructor">typ_bot</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_rcd"><span class="id" title="constructor">typ_rcd</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_and"><span class="id" title="constructor">typ_and</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_sel"><span class="id" title="constructor">typ_sel</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_bnd"><span class="id" title="constructor">typ_bnd</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_all"><span class="id" title="constructor">typ_all</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_con"><span class="id" title="constructor">typ_con</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#inits"><span class="id" title="abbreviation">inits</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a><br/>
</div>

<div class="doc">
We define a specialized version of lists to generate nicer induction
    principles
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">typs_nil</span></span> represents a type declaraion <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">T</span>}</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">dec_trm</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a field declaration <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> . 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="typs"><span class="id" title="inductive">typs</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="typs_nil"><span class="id" title="constructor">typs_nil</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a><br/>
&nbsp;&nbsp;| <a name="typs_cons"><span class="id" title="constructor">typs_cons</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a><br/>
</div>

<div class="doc">
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">dec_typ</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a type declaraion <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">T</span>}</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">dec_trm</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a field declaration <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> . 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="dec"><span class="id" title="inductive">dec</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="dec_typ"><span class="id" title="constructor">dec_typ</span></a>  : <a class="idref" href="DOT.Lib.SyntaxClasses.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a><br/>
&nbsp;&nbsp;| <a name="dec_trm"><span class="id" title="constructor">dec_trm</span></a>  : <a class="idref" href="DOT.Lib.SyntaxClasses.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h3 class="section">Mutual Induction Principles</h3>

</div>
<div class="code">
<span class="id" title="keyword">Scheme</span> <a name="typ_mut"><span class="id" title="definition">typ_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="typs_mut"><span class="id" title="definition">typs_mut</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="dec_mut"><span class="id" title="definition">dec_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="typ_mutind"><span class="id" title="definition">typ_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mut"><span class="id" title="definition">typ_mut</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_mut"><span class="id" title="definition">typs_mut</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_mut"><span class="id" title="definition">dec_mut</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab10"></a><h2 class="section">Type Lists are List Like</h2>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="typs_to_list"><span class="id" title="definition">typs_to_list</span></a> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) : <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <span class="id" title="constructor">nil</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts'</span> =&gt; (<span class="id" title="var">T</span> <span class="id" title="notation">::</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_to_list"><span class="id" title="definition">typs_to_list</span></a> <span class="id" title="var">Ts'</span>)%<span class="id" title="var">list</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsToList"><span class="id" title="instance">TypsToList</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#ToList"><span class="id" title="class">ToList</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_to_list"><span class="id" title="definition">typs_to_list</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsToList"><span class="id" title="instance">TypsToList</span></a> <span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="typs_of_list"><span class="id" title="definition">typs_of_list</span></a> (<span class="id" title="var">xs</span> : <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nil</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a><br/>
&nbsp;&nbsp;| (<span class="id" title="var">T</span> <span class="id" title="notation">::</span> <span class="id" title="var">Ts'</span>)%<span class="id" title="var">list</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_of_list"><span class="id" title="definition">typs_of_list</span></a> <span class="id" title="var">Ts'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsOfList"><span class="id" title="instance">TypsOfList</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#OfList"><span class="id" title="class">OfList</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_of_list"><span class="id" title="definition">typs_of_list</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOfList"><span class="id" title="instance">TypsOfList</span></a> <span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsListLike"><span class="id" title="instance">TypsListLike</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListLike"><span class="id" title="class">ListLike</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsToList"><span class="id" title="instance">TypsToList</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOfList"><span class="id" title="instance">TypsOfList</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Ts</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h3 class="section">Autorewrite lemmas</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="rewrite_typs_to_list"><span class="id" title="lemma">rewrite_typs_to_list</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsToList"><span class="id" title="instance">TypsToList</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_typs_of_list"><span class="id" title="lemma">rewrite_typs_of_list</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOfList"><span class="id" title="instance">TypsOfList</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_typs_to_list"><span class="id" title="lemma">rewrite_typs_to_list</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_typs_of_list"><span class="id" title="lemma">rewrite_typs_of_list</span></a> : <span class="id" title="var">typ_db</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_list_like</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_to_list"><span class="id" title="definition">typs_to_list</span></a> <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsToList"><span class="id" title="instance">TypsToList</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_of_list"><span class="id" title="definition">typs_of_list</span></a> <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOfList"><span class="id" title="instance">TypsOfList</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab12"></a><h2 class="section">Types, Type Lists and Declarations are Abstract Syntax</h2>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">T</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">T</span>} : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">Ts</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;avar_n&nbsp;0&nbsp;refers&nbsp;to&nbsp;self/this,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avar_n&nbsp;1&nbsp;...&nbsp;length&nbsp;Ts&nbsp;refers&nbsp;to&nbsp;arguments&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a> (<span class="id" title="var">k</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span> : <span class="id" title="axiom">var</span>) (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">D</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>): <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypOpenable"><span class="id" title="instance">TypOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsOpenable"><span class="id" title="instance">TypsOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="DecOpenable"><span class="id" title="instance">DecOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_open_rec</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecOpenable"><span class="id" title="instance">DecOpenable</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOpenable"><span class="id" title="instance">TypsOpenable</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypOpenable"><span class="id" title="instance">TypOpenable</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fv_typ"><span class="id" title="definition">fv_typ</span></a> (<span class="id" title="var">T</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_dec"><span class="id" title="definition">fv_dec</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span>    =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T1</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T2</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span>   =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typs"><span class="id" title="definition">fv_typs</span></a> <span class="id" title="var">Ts</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="fv_typs"><span class="id" title="definition">fv_typs</span></a> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typs"><span class="id" title="definition">fv_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="fv_dec"><span class="id" title="definition">fv_dec</span></a> (<span class="id" title="var">D</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypFreeVar"><span class="id" title="instance">TypFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsFreeVar"><span class="id" title="instance">TypsFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typs"><span class="id" title="definition">fv_typs</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="DecFreeVar"><span class="id" title="instance">DecFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_dec"><span class="id" title="definition">fv_dec</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_fv</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_dec"><span class="id" title="definition">fv_dec</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecFreeVar"><span class="id" title="instance">DecFreeVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typs"><span class="id" title="definition">fv_typs</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsFreeVar"><span class="id" title="instance">TypsFreeVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypFreeVar"><span class="id" title="instance">TypFreeVar</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subst_typ"><span class="id" title="definition">subst_typ</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">T</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) { <span class="id" title="keyword">struct</span> <span class="id" title="var">T</span> } : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_dec"><span class="id" title="definition">subst_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typs"><span class="id" title="definition">subst_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="var">is'</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="subst_typs"><span class="id" title="definition">subst_typs</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">Ts</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) { <span class="id" title="keyword">struct</span> <span class="id" title="var">Ts</span> } : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typs"><span class="id" title="definition">subst_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="subst_dec"><span class="id" title="definition">subst_dec</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">D</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) { <span class="id" title="keyword">struct</span> <span class="id" title="var">D</span> } : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypSubstVar"><span class="id" title="instance">TypSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsSubstVar"><span class="id" title="instance">TypsSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typs"><span class="id" title="definition">subst_typs</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="DecSubstVar"><span class="id" title="instance">DecSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_dec"><span class="id" title="definition">subst_dec</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_subst</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_dec"><span class="id" title="definition">subst_dec</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecSubstVar"><span class="id" title="instance">DecSubstVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typs"><span class="id" title="definition">subst_typs</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsSubstVar"><span class="id" title="instance">TypsSubstVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypSubstVar"><span class="id" title="instance">TypSubstVar</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypOpenable"><span class="id" title="instance">TypOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypFreeVar"><span class="id" title="instance">TypFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypSubstVar"><span class="id" title="instance">TypSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOpenable"><span class="id" title="instance">TypsOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsFreeVar"><span class="id" title="instance">TypsFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsSubstVar"><span class="id" title="instance">TypsSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Instance</span> <a name="DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecOpenable"><span class="id" title="instance">DecOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecFreeVar"><span class="id" title="instance">DecFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecSubstVar"><span class="id" title="instance">DecSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_abs</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_typ_list_like</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_typ_open_rec</span>; <span class="id" title="var">fold_typ_fv</span>; <span class="id" title="var">fold_typ_subst</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h3 class="section">Autorewrite lemmas</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="rewrite_open_rec_typ"><span class="id" title="lemma">rewrite_open_rec_typ</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_open_rec_typs"><span class="id" title="lemma">rewrite_open_rec_typs</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_typs"><span class="id" title="definition">open_rec_typs</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_open_rec_dec"><span class="id" title="lemma">rewrite_open_rec_dec</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_fv_typ"><span class="id" title="lemma">rewrite_fv_typ</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_fv_typs"><span class="id" title="lemma">rewrite_fv_typs</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_typs"><span class="id" title="definition">fv_typs</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_fv_dec"><span class="id" title="lemma">rewrite_fv_dec</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_dec"><span class="id" title="definition">fv_dec</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_subst_typ"><span class="id" title="lemma">rewrite_subst_typ</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_subst_typs"><span class="id" title="lemma">rewrite_subst_typs</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_typs"><span class="id" title="definition">subst_typs</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_subst_dec"><span class="id" title="lemma">rewrite_subst_dec</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_dec"><span class="id" title="definition">subst_dec</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_open_rec_typ"><span class="id" title="lemma">rewrite_open_rec_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_fv_typ"><span class="id" title="lemma">rewrite_fv_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_subst_typ"><span class="id" title="lemma">rewrite_subst_typ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_open_rec_typs"><span class="id" title="lemma">rewrite_open_rec_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_fv_typs"><span class="id" title="lemma">rewrite_fv_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_subst_typs"><span class="id" title="lemma">rewrite_subst_typs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_open_rec_dec"><span class="id" title="lemma">rewrite_open_rec_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_fv_dec"><span class="id" title="lemma">rewrite_fv_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_subst_dec"><span class="id" title="lemma">rewrite_subst_dec</span></a> : <span class="id" title="var">typ_db</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab14"></a><h2 class="section">Declarations are labeled</h2>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="DecLabelOf"><span class="id" title="instance">DecLabelOf</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab15"></a><h2 class="section">Types, Type Lists and Declarations Satisfy Syntax Lemmas</h2>
 We will prove that the operations on Types, Type Lists and Declarations are
    lifted from locally nameless variables. The syntax lemmas will then by
    automatically lifted from the syntax lemmas of locally nameless variables
    through the type class mechanism 
<div class="paragraph"> </div>

<a name="lab16"></a><h3 class="section">Collect Variables in Types</h3>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="collect_typ"><span class="id" title="definition">collect_typ</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">T</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">Ts</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="collect_typs"><span class="id" title="definition">collect_typs</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">Ts</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="collect_dec"><span class="id" title="definition">collect_dec</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">D</span>: <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypCollect"><span class="id" title="instance">TypCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a><br/>
&nbsp;&nbsp;:= @<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsCollect"><span class="id" title="instance">TypsCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecCollect"><span class="id" title="instance">DecCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_collect</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypOpenable"><span class="id" title="instance">TypOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypFreeVar"><span class="id" title="instance">TypFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypSubstVar"><span class="id" title="instance">TypSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOpenable"><span class="id" title="instance">TypsOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsFreeVar"><span class="id" title="instance">TypsFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsSubstVar"><span class="id" title="instance">TypsSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecOpenable"><span class="id" title="instance">DecOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecFreeVar"><span class="id" title="instance">DecFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecSubstVar"><span class="id" title="instance">DecSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab17"></a><h3 class="section">Autorewrite lemmas</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="rewrite_collect_typ"><span class="id" title="lemma">rewrite_collect_typ</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span>, @<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_collect_typs"><span class="id" title="lemma">rewrite_collect_typs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span>, @<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_collect_dec"><span class="id" title="lemma">rewrite_collect_dec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">C</span>, @<a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_collect_typ"><span class="id" title="lemma">rewrite_collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_collect_typs"><span class="id" title="lemma">rewrite_collect_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_collect_dec"><span class="id" title="lemma">rewrite_collect_dec</span></a> : <span class="id" title="var">typ_db</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h3 class="section">Sanity for Collecting Variables in Types, Type Lists and Declarations</h3>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="TypsListLikeCollect"><span class="id" title="instance">TypsListLikeCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#ListLikeCollect"><span class="id" title="class">ListLikeCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <span class="id" title="var">df</span> <span class="id" title="var">f</span> <span class="id" title="var">comb</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">t</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">comb</span> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <span class="id" title="var">df</span> <span class="id" title="var">f</span> <span class="id" title="var">comb</span> <span class="id" title="var">t</span>) (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <span class="id" title="var">df</span> <span class="id" title="var">f</span> <span class="id" title="var">comb</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="collect_compose_typ_typs_dec"><span class="id" title="lemma">collect_compose_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span>} (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">g</span> <span class="id" title="var">comb1</span> <span class="id" title="var">comb2</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#comb1"><span class="id" title="variable">comb1</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb2"><span class="id" title="variable">comb2</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb1"><span class="id" title="variable">comb1</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb2"><span class="id" title="variable">comb2</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb1"><span class="id" title="variable">comb1</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb2"><span class="id" title="variable">comb2</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb1"><span class="id" title="variable">comb1</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#comb2"><span class="id" title="variable">comb2</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpls</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="collect_reflect_typ_typs_dec"><span class="id" title="lemma">collect_reflect_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#b"><span class="id" title="variable">b</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#b"><span class="id" title="variable">b</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">T</span>, (<span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> (<span class="id" title="definition">Is_true</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="inductive">or</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typ"><span class="id" title="definition">collect_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">orb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>)<span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">Ts</span>, (<span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a> (<span class="id" title="definition">Is_true</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="inductive">or</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_typs"><span class="id" title="definition">collect_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">orb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>)<span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">D</span>, (<span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a> (<span class="id" title="definition">Is_true</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="inductive">or</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_dec"><span class="id" title="definition">collect_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">orb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> 2 <span class="id" title="keyword">using</span> <span class="id" title="lemma">reflect_iff</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="definition">iff</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> 3 <span class="id" title="keyword">using</span> <span class="id" title="lemma">Is_true_eq_left</span>, <span class="id" title="lemma">Is_true_eq_true</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_ands</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_orbs</span>; <span class="id" title="var">destruct_ors</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_compose</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>; <span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_compose_typ_typs_dec"><span class="id" title="lemma">collect_compose_typ_typs_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_reflect</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_reflect_typ_typs_dec"><span class="id" title="lemma">collect_reflect_typ_typs_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_sanity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">solve</span> [<span class="id" title="var">solve_collect_compose</span> || <span class="id" title="var">solve_collect_reflect</span>].<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypCollectCompose"><span class="id" title="instance">TypCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypCollectReflect"><span class="id" title="instance">TypCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsCollectCompose"><span class="id" title="instance">TypsCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsCollectReflect"><span class="id" title="instance">TypsCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecCollectCompose"><span class="id" title="instance">DecCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecCollectReflect"><span class="id" title="instance">DecCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab19"></a><h3 class="section">Transform Variables in Types</h3>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="transform_typ"><span class="id" title="definition">transform_typ</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_dec"><span class="id" title="definition">transform_dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">D</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T1</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T2</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T1</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T2</span> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_con"><span class="id" title="constructor">typ_con</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typs"><span class="id" title="definition">transform_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">Ts</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="transform_typs"><span class="id" title="definition">transform_typs</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_nil"><span class="id" title="constructor">typs_nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs_cons"><span class="id" title="constructor">typs_cons</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typs"><span class="id" title="definition">transform_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="transform_dec"><span class="id" title="definition">transform_dec</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">U</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">U</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypTransform"><span class="id" title="instance">TypTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsTransform"><span class="id" title="instance">TypsTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typs"><span class="id" title="definition">transform_typs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecTransform"><span class="id" title="instance">DecTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_dec"><span class="id" title="definition">transform_dec</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_typ_transform</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypOpenable"><span class="id" title="instance">TypOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypFreeVar"><span class="id" title="instance">TypFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypSubstVar"><span class="id" title="instance">TypSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typs"><span class="id" title="definition">transform_typs</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsOpenable"><span class="id" title="instance">TypsOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsFreeVar"><span class="id" title="instance">TypsFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsSubstVar"><span class="id" title="instance">TypsSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_dec"><span class="id" title="definition">transform_dec</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecOpenable"><span class="id" title="instance">DecOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecFreeVar"><span class="id" title="instance">DecFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecSubstVar"><span class="id" title="instance">DecSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>).<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">fold_typ_all</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">fold_typ_abs</span>; <span class="id" title="var">fold_typ_collect</span>; <span class="id" title="var">fold_typ_transform</span>).<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">sympl_typ</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">simpls</span>; <span class="id" title="var">fold_typ_all</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab20"></a><h3 class="section">Autorewrite lemmas</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="rewrite_transform_typ"><span class="id" title="lemma">rewrite_transform_typ</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typ"><span class="id" title="definition">transform_typ</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_transform_typs"><span class="id" title="lemma">rewrite_transform_typs</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_typs"><span class="id" title="definition">transform_typs</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="rewrite_transform_dec"><span class="id" title="lemma">rewrite_transform_dec</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_dec"><span class="id" title="definition">transform_dec</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_transform_typ"><span class="id" title="lemma">rewrite_transform_typ</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_transform_typs"><span class="id" title="lemma">rewrite_transform_typs</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#rewrite_transform_dec"><span class="id" title="lemma">rewrite_transform_dec</span></a> : <span class="id" title="var">typ_db</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab21"></a><h3 class="section">Sanity for Transforming Variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="transform_id_typ_typs_dec"><span class="id" title="lemma">transform_id_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">n</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">n</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">n</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>, <span class="id" title="definition">id</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsListLikeTransform"><span class="id" title="instance">TypsListLikeTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#ListLikeTransform"><span class="id" title="class">ListLikeTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sympl_typ</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="transform_compose_typ_typs_dec"><span class="id" title="lemma">transform_compose_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform_length_s"><span class="id" title="lemma">transform_length_s</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_transform_sanity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_id_typ_typs_dec"><span class="id" title="lemma">transform_id_typ_typs_dec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">intros_fun_ext</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#transform_compose_typ_typs_dec"><span class="id" title="lemma">transform_compose_typ_typs_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypTransformId"><span class="id" title="instance">TypTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsTransformId"><span class="id" title="instance">TypsTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecTransformId"><span class="id" title="instance">DecTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypTransformCompose"><span class="id" title="instance">TypTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsTransformCompose"><span class="id" title="instance">TypsTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecTransformCompose"><span class="id" title="instance">DecTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab22"></a><h3 class="section">Sanity for Collecting and Transforming Variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="collect_transform_typ_typs_dec"><span class="id" title="lemma">collect_transform_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">andb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">andb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">andb</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> 2; <span class="id" title="tactic">intros</span>; <span class="id" title="var">destruct_andbs</span>; <span class="id" title="var">destruct_ands</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">transform</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#g"><span class="id" title="variable">g</span></a>) ?<span class="id" title="var">t</span> <span class="id" title="notation">=</span> ?<span class="id" title="var">transform</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#f"><span class="id" title="variable">f</span></a> ?<span class="id" title="var">t</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypCollectTransform"><span class="id" title="instance">TypCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_transform_typ_typs_dec"><span class="id" title="lemma">collect_transform_typ_typs_dec</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsCollectTransform"><span class="id" title="instance">TypsCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_transform_typ_typs_dec"><span class="id" title="lemma">collect_transform_typ_typs_dec</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecCollectTransform"><span class="id" title="instance">DecCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#collect_transform_typ_typs_dec"><span class="id" title="lemma">collect_transform_typ_typs_dec</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab23"></a><h3 class="section">Operations are lifted from operations on Variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fv_collect_typ_typs_dec"><span class="id" title="lemma">fv_collect_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="notation">\{}</span>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (@<span class="id" title="axiom">union</span> <span class="id" title="axiom">var</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>), <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="notation">\{}</span>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (@<span class="id" title="axiom">union</span> <span class="id" title="axiom">var</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>), <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="notation">\{}</span>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (@<span class="id" title="axiom">union</span> <span class="id" title="axiom">var</span>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="var">sympl_typ</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="open_transform_typ_typs_dec"><span class="id" title="lemma">open_transform_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">x</span>, (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">x</span>, (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">x</span>, (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="var">sympl_typ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>; <span class="id" title="tactic">intro</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_shuffle3"><span class="id" title="lemma">Nat.add_shuffle3</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_transform_typ_typs_dec"><span class="id" title="lemma">subst_transform_typ_typs_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="var">sympl_typ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">intros_fun_ext</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_transform_syntax</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>; <span class="id" title="tactic">intro</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_collect_typ_typs_dec"><span class="id" title="lemma">fv_collect_typ_typs_dec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#open_transform_typ_typs_dec"><span class="id" title="lemma">open_transform_typ_typs_dec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#subst_transform_typ_typs_dec"><span class="id" title="lemma">subst_transform_typ_typs_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypFvCollect"><span class="id" title="instance">TypFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypCollect"><span class="id" title="instance">TypCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsFvCollect"><span class="id" title="instance">TypsFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsCollect"><span class="id" title="instance">TypsCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecFvCollect"><span class="id" title="instance">DecFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecCollect"><span class="id" title="instance">DecCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypOpenTransform"><span class="id" title="instance">TypOpenTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#OpenTransform"><span class="id" title="class">OpenTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsOpenTransform"><span class="id" title="instance">TypsOpenTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#OpenTransform"><span class="id" title="class">OpenTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecOpenTransform"><span class="id" title="instance">DecOpenTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#OpenTransform"><span class="id" title="class">OpenTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypSubstTransform"><span class="id" title="instance">TypSubstTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#SubstTransform"><span class="id" title="class">SubstTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypTransform"><span class="id" title="instance">TypTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsSubstTransform"><span class="id" title="instance">TypsSubstTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#SubstTransform"><span class="id" title="class">SubstTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsTransform"><span class="id" title="instance">TypsTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecSubstTransform"><span class="id" title="instance">DecSubstTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#SubstTransform"><span class="id" title="class">SubstTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecTransform"><span class="id" title="instance">DecTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Additional Lemmas that are not lifted automatically 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fv_open_typ_dec_cases"><span class="id" title="lemma">fv_open_typ_dec_cases</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">D</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#dec"><span class="id" title="inductive">dec</span></a>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\/</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_mutind"><span class="id" title="definition">typ_mutind</span></a>; <span class="id" title="var">sympl_typ</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.LibExtraEnv.html#union_eq_cases"><span class="id" title="lemma">union_eq_cases</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypFvOpenCases"><span class="id" title="instance">TypFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypAbstractSyntax"><span class="id" title="instance">TypAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_open_typ_dec_cases"><span class="id" title="lemma">fv_open_typ_dec_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TypsFvOpenCases"><span class="id" title="instance">TypsFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#TypsAbstractSyntax"><span class="id" title="instance">TypsAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_open_typ_dec_cases"><span class="id" title="lemma">fv_open_typ_dec_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DecFvOpenCases"><span class="id" title="instance">DecFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#DecAbstractSyntax"><span class="id" title="instance">DecAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#fv_open_typ_dec_cases"><span class="id" title="lemma">fv_open_typ_dec_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fv_typs_app_distr"><span class="id" title="lemma">fv_typs_app_distr</span></a>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">Ts</span> <span class="id" title="var">Ts'</span> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fb27b61dfadad676e1d19284e298bf70"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts'"><span class="id" title="variable">Ts'</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts"><span class="id" title="variable">Ts</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#Ts'"><span class="id" title="variable">Ts'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">T</span> <span class="id" title="var">Ts</span> <span class="id" title="var">IHTs</span>]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a>; <span class="id" title="var">sympl_typ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">union_empty_l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list_of_list"><span class="id" title="method">to_list_of_list</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">union_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHTs</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
