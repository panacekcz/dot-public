<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">README</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">DOT.Lib.SyntaxClasses</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Bool.Bool</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Bool.Sumbool</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Lib.LibExtra.html#"><span class="id" title="library">LibExtra</span></a>.<br/>

<br/>
<span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>

<br/>
<span class="id" title="var">Declare</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab31"></a><h1 class="section">Type Classes for Syntax</h1>

<div class="paragraph"> </div>

 The proof represents variables using the locally nameless representation
    which combines De Bruijn indices and named variables. So any syntax comes
    with the following functions:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">open_rec</span></span> to replace bound variables (represented by De Bruijn indices)
      with a named variable

</li>
<li> <span class="inlinecode"><span class="id" title="var">fv</span></span> to gather the free variables

</li>
<li> <span class="inlinecode"><span class="id" title="var">subst_var</span></span> to substitute all instances of a named variable with another
      one

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="Openable"><span class="id" title="record">Openable</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) := <a name="open_rec"><span class="id" title="projection">open_rec</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Class</span> <a name="FreeVar"><span class="id" title="record">FreeVar</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) := <a name="fv"><span class="id" title="projection">fv</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="definition">vars</span>.<br/>
<span class="id" title="keyword">Class</span> <a name="SubstVar"><span class="id" title="record">SubstVar</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) := <a name="subst_var"><span class="id" title="projection">subst_var</span></a> : <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Openable</span> <span class="id" title="var">FreeVar</span> <span class="id" title="var">SubstVar</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="AbstractSyntax"><span class="id" title="record">AbstractSyntax</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
We introduce some notation to prettify our proof 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">&quot;</span></a>z '/[' x '-&gt;' y ']'"<br/>
&nbsp;&nbsp;:= (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) (<span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69, <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">syntax_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="subst_vars"><span class="id" title="abbreviation">subst_vars</span></a> := (<a class="idref" href="DOT.Lib.LibExtraVar.html#vars_zip_map"><span class="id" title="definition">vars_zip_map</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a name="bb20d2bf43f8ced08f98df6df257243f"><span class="id" title="notation">&quot;</span></a>z '/[' xs '--&gt;' ys ']'"<br/>
&nbsp;&nbsp;:= (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_vars"><span class="id" title="abbreviation">subst_vars</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">z</span>) (<span class="id" title="var">xs</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69, <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">syntax_scope</span>.<br/>

<br/>
</div>

<div class="doc">
We often only replace the outer most De Bruijn index, so we add some special
    syntax for it 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="open"><span class="id" title="abbreviation">open</span></a> := (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> 0).<br/>

<br/>
</div>

<div class="doc">
We often open syntax at a certain depth 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> `{<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">+</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="open_depth"><span class="id" title="abbreviation">open_depth</span></a> := (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> 0).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>

<br/>
</div>

<div class="doc">
Closedness 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="closed"><span class="id" title="definition">closed</span></a> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
It's also useful to open with a list of variables 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> `{<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">ys</span>: <span class="id" title="inductive">list</span> <span class="id" title="axiom">var</span>) (<span class="id" title="var">X</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>): <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nil</span> =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">cons</span> <span class="id" title="var">y</span> <span class="id" title="var">ys</span> =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="var">y</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="open_vars"><span class="id" title="abbreviation">open_vars</span></a> := (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> 0).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab32"></a><h2 class="section">Decide Free Variables</h2>
 Deciding whether a variables is free or not is not required for typing
    definitions, but it is are needed to lift certain lemmas between different
    Syntax Classes
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">dec_fv</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> returns true if x is in <span class="inlinecode"><span class="id" title="var">fv</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> and false otherwise

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="DecideFv"><span class="id" title="record">DecideFv</span></a> `(<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>) := <a name="dec_fv"><span class="id" title="projection">dec_fv</span></a> : <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">bool</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_fv"><span class="id" title="definition">dec_fv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dec_notin_fv"><span class="id" title="definition">dec_notin_fv</span></a> `{<span class="id" title="var">DFv</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#DecideFv"><span class="id" title="class">DecideFv</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">x</span> <span class="id" title="var">a</span> := <span class="id" title="definition">negb</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_fv"><span class="id" title="definition">dec_fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_notin_fv"><span class="id" title="definition">dec_notin_fv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="ReflectFv"><span class="id" title="record">ReflectFv</span></a> `(<span class="id" title="var">DFv</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#DecideFv"><span class="id" title="class">DecideFv</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="reflect_fv"><span class="id" title="projection">reflect_fv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_fv"><span class="id" title="definition">dec_fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab33"></a><h2 class="section">Closing</h2>
 Closing is not required for typing definitions, but they are needed to lift
    certain lemmas between different Syntax Classes
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">close_rec</span></span> replaces all instances of a variable with a unnamed free
      variable

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="Closing"><span class="id" title="record">Closing</span></a> `(<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="close_rec"><span class="id" title="projection">close_rec</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Closing</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="close"><span class="id" title="abbreviation">close</span></a> := (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> 0).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> `{<span class="id" title="var">Cl</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">+</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="close_depth"><span class="id" title="abbreviation">close_depth</span></a> := (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> 0).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab34"></a><h2 class="section">Labels</h2>

<div class="paragraph"> </div>

 The Proof is parameterized over different representations of typ and term
    labels 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="typ_label"><span class="id" title="axiom">typ_label</span></a>: <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a name="trm_label"><span class="id" title="axiom">trm_label</span></a>: <span class="id" title="keyword">Set</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab35"></a><h3 class="section">Term and type members</h3>

        Type member labels (<span class="inlinecode"><span class="id" title="var">A</span></span>, <span class="inlinecode"><span class="id" title="var">B</span></span>, <span class="inlinecode"><span class="id" title="var">C</span></span>) and term (field) member labels (<span class="inlinecode"><span class="id" title="var">a</span></span>,
        <span class="inlinecode"><span class="id" title="var">b</span></span>, <span class="inlinecode"><span class="id" title="var">c</span></span>).  
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="label"><span class="id" title="inductive">label</span></a>: <span class="id" title="keyword">Set</span> :=<br/>
| <a name="label_typ"><span class="id" title="constructor">label_typ</span></a>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a><br/>
| <a name="label_trm"><span class="id" title="constructor">label_trm</span></a>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a>.<br/>

<br/>
</div>

<div class="doc">
Some syntax will contain labels 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="LabelOf"><span class="id" title="record">LabelOf</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) := <a name="label_of"><span class="id" title="projection">label_of</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
</div>

<div class="doc">
Helper functions to retrieve labels 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="GetLabeled"><span class="id" title="record">GetLabeled</span></a> (<span class="id" title="var">B</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a name="get_labeld"><span class="id" title="projection">get_labeld</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">option</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld"><span class="id" title="definition">get_labeld</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="labels_has"><span class="id" title="definition">labels_has</span></a> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#GetLabeled"><span class="id" title="class">GetLabeled</span></a> <span class="id" title="var">B</span> <span class="id" title="var">A</span>} (<span class="id" title="var">ds</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">d</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld"><span class="id" title="definition">get_labeld</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="notation">=</span> <span class="id" title="constructor">Some</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#GetLabeled"><span class="id" title="class">GetLabeled</span></a> <span class="id" title="var">B</span> <span class="id" title="var">A</span>} (<span class="id" title="var">ds</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld"><span class="id" title="definition">get_labeld</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="notation">=</span> <span class="id" title="constructor">None</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution preserves labels: <span class="inlinecode"><span class="id" title="var">label</span>(<span class="id" title="var">d</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">label</span>(<span class="id" title="var">d</span>[<span class="id" title="var">y</span>/<span class="id" title="var">x</span>])</span> 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="SubstLabel"><span class="id" title="record">SubstLabel</span></a> `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <span class="id" title="var">A</span>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a name="subst_label"><span class="id" title="projection">subst_label</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab36"></a><h2 class="section">Syntax Lemmas</h2>

<div class="paragraph"> </div>

 Composing Opens 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="OpenTwice"><span class="id" title="record">OpenTwice</span></a> `(<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="open_twice"><span class="id" title="projection">open_twice</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Class</span> <a name="OpenCommut"><span class="id" title="record">OpenCommut</span></a> `(<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="open_commut"><span class="id" title="projection">open_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="SubstFresh"><span class="id" title="record">SubstFresh</span></a> `(<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="subst_fresh"><span class="id" title="projection">subst_fresh</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="SubstOpenCommut"><span class="id" title="record">SubstOpenCommut</span></a> `(<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="subst_open_commut"><span class="id" title="projection">subst_open_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">\[</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">]</span></a>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="FvOpenCases"><span class="id" title="record">FvOpenCases</span></a> `(<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="fv_open_cases"><span class="id" title="projection">fv_open_cases</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
Sanity check for opening and closing 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="OpenClose"><span class="id" title="record">OpenClose</span></a> `(<span class="id" title="var">Cl</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="open_close"><span class="id" title="projection">open_close</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Class</span> <a name="CloseOpen"><span class="id" title="record">CloseOpen</span></a> `(<span class="id" title="var">Cl</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="close_open"><span class="id" title="projection">close_open</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Class</span> <a name="SubstOpenClose"><span class="id" title="record">SubstOpenClose</span></a> `(<span class="id" title="var">Cl</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;<a name="subst_open_close"><span class="id" title="projection">subst_open_close</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∘</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="CloseUnbound"><span class="id" title="record">CloseUnbound</span></a> `(<span class="id" title="var">Cl</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a>) :=<br/>
&nbsp;&nbsp;<a name="close_unbound"><span class="id" title="projection">close_unbound</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="OpenInjective"><span class="id" title="record">OpenInjective</span></a> `(<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a>) :=<br/>
&nbsp;&nbsp;<a name="open_fresh_injective"><span class="id" title="projection">open_fresh_injective</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">k</span> <span class="id" title="var">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Y"><span class="id" title="variable">Y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="SubstIntro"><span class="id" title="record">SubstIntro</span></a> `(<span class="id" title="var">AS</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a>) :=<br/>
&nbsp;&nbsp;<a name="subst_intro"><span class="id" title="projection">subst_intro</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">X</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h3 class="section">For some Syntax classes, operations are decision procedures on <span class="inlinecode"><span class="id" title="var">fv</span></span></h3>

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="ClosingInner"><span class="id" title="record">ClosingInner</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">DFv</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#DecideFv"><span class="id" title="class">DecideFv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#AS"><span class="id" title="variable">AS</span></a>} (<span class="id" title="var">DFvS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#ReflectFv"><span class="id" title="class">ReflectFv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#DFv"><span class="id" title="variable">DFv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#AS"><span class="id" title="variable">AS</span></a>) :=<br/>
&nbsp;&nbsp;<a name="close_inner"><span class="id" title="projection">close_inner</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_notin_fv"><span class="id" title="definition">dec_notin_fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>)<span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="SubstitutionInner"><span class="id" title="record">SubstitutionInner</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">DFv</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#DecideFv"><span class="id" title="class">DecideFv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#AS"><span class="id" title="variable">AS</span></a>} (<span class="id" title="var">DFvS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#ReflectFv"><span class="id" title="class">ReflectFv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#DFv"><span class="id" title="variable">DFv</span></a>) :=<br/>
&nbsp;&nbsp;<a name="subst_inner"><span class="id" title="projection">subst_inner</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<span class="id" title="var">B</span>:=<a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_notin_fv"><span class="id" title="definition">dec_notin_fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>))<span class="id" title="notation">)</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab38"></a><h2 class="section">List-Like Syntax</h2>
 To better use some of Coq's built-in features for generating induction
    schemes for mutually recursive structures we will often define specialized
    versions of list. In the following typeclass we think of <span class="inlinecode"><span class="id" title="var">A</span></span> being a list
    containing <span class="inlinecode"><span class="id" title="var">B</span></span>s. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a name="ToList"><span class="id" title="record">ToList</span></a> (<span class="id" title="var">B</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a name="to_list"><span class="id" title="projection">to_list</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="OfList"><span class="id" title="record">OfList</span></a> (<span class="id" title="var">B</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a name="of_list"><span class="id" title="projection">of_list</span></a> : <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="ListLike"><span class="id" title="record">ListLike</span></a> {<span class="id" title="var">B</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#ToList"><span class="id" title="class">ToList</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) `(<a class="idref" href="DOT.Lib.SyntaxClasses.html#OfList"><span class="id" title="class">OfList</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;{ <a name="to_list_of_list"><span class="id" title="projection">to_list_of_list</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="of_list_to_list"><span class="id" title="projection">of_list_to_list</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">l</span>, <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a>;<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">syntax_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">ToList</span> <span class="id" title="var">OfList</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab39"></a><h2 class="section">Syntax Environments</h2>
 Free variables in the range (types) of a context 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="fv_env"><span class="id" title="abbreviation">fv_env</span></a> := (<span class="id" title="definition">fv_in_values</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a name="subst_env"><span class="id" title="abbreviation">subst_env</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := (<span class="id" title="axiom">map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a name="subst_env_vars"><span class="id" title="abbreviation">subst_env_vars</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> := (<span class="id" title="axiom">map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_vars"><span class="id" title="abbreviation">subst_vars</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span>)).<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab40"></a><h2 class="section">Sets of free variables</h2>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="VarsSubstVar"><span class="id" title="instance">VarsSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">x</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">y</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">vs</span>: <span class="id" title="definition">vars</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">If</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#vs"><span class="id" title="variable">vs</span></a> <span class="id" title="notation">then</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#vs"><span class="id" title="variable">vs</span></a> <span class="id" title="notation">\-</span> <span class="id" title="notation">\{</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">else</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#vs"><span class="id" title="variable">vs</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab41"></a><h2 class="section">Extra Definitions and Simple Lemmas</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Open_depth"><span class="id" title="section">Open_depth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_eq_open_depth"><span class="id" title="lemma">open_eq_open_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Open_depth"><span class="id" title="section">Open_depth</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Subst_depth"><span class="id" title="section">Subst_depth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_depth"><span class="id" title="lemma">subst_depth</span></a>: <span class="id" title="keyword">forall</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) (<span class="id" title="var">a</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Subst_depth.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Subst_depth"><span class="id" title="section">Subst_depth</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Close_depth"><span class="id" title="section">Close_depth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>} {<span class="id" title="var">Cl</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#AS"><span class="id" title="variable">AS</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="close_eq_close_depth"><span class="id" title="lemma">close_eq_close_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Close_depth"><span class="id" title="section">Close_depth</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fv_env"><span class="id" title="section">Fv_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fv_env_single"><span class="id" title="lemma">fv_env_single</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env"><span class="id" title="abbreviation">fv_env</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">fv_in_values</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">single_def</span>, <span class="id" title="axiom">values_def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_fold_right"><span class="id" title="lemma">liblist_fold_right</span></a>, <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_map"><span class="id" title="lemma">liblist_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">union_empty_r</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fv_env_push"><span class="id" title="lemma">fv_env_push</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">E</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env"><span class="id" title="abbreviation">fv_env</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#E"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env"><span class="id" title="abbreviation">fv_env</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#E"><span class="id" title="variable">E</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraEnv.html#fv_in_values_cons"><span class="id" title="lemma">fv_in_values_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env_single"><span class="id" title="lemma">fv_env_single</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Fv_env"><span class="id" title="section">Fv_env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Subst_env"><span class="id" title="section">Subst_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_single"><span class="id" title="lemma">subst_single</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_env"><span class="id" title="abbreviation">subst_env</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_single</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#Subst_env"><span class="id" title="section">Subst_env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_OpenTwice"><span class="id" title="section">About_OpenTwice</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenTwice"><span class="id" title="class">OpenTwice</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_depth_twice"><span class="id" title="lemma">open_depth_twice</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <span class="id" title="notation">=</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)), <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_twice"><span class="id" title="definition">open_twice</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_OpenTwice"><span class="id" title="section">About_OpenTwice</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_OpenCommut"><span class="id" title="section">About_OpenCommut</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenCommut"><span class="id" title="class">OpenCommut</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_depth_commut"><span class="id" title="lemma">open_depth_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">open_depth</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#lift_depth_commute12"><span class="id" title="lemma">lift_depth_commute12</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_commut"><span class="id" title="definition">open_commut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_cancel_r"><span class="id" title="lemma">Nat.add_cancel_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_rec_vars_open_rec_commut"><span class="id" title="lemma">open_rec_vars_open_rec_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="notation">\/</span> <span class="id" title="notation">(</span><span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="notation">+</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;</span> <span class="id" title="constructor">S</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHxs</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_commut"><span class="id" title="definition">open_commut</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_vars_S_commut"><span class="id" title="lemma">open_vars_S_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars_open_rec_commut"><span class="id" title="lemma">open_rec_vars_open_rec_commut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_vars_app"><span class="id" title="lemma">open_vars_app</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="notation">++</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">+</span> <span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHxs</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars_open_rec_commut"><span class="id" title="lemma">open_rec_vars_open_rec_commut</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_succ_comm"><span class="id" title="lemma">Nat.add_succ_comm</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_OpenCommut"><span class="id" title="section">About_OpenCommut</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_SubstFresh"><span class="id" title="section">About_SubstFresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstFresh"><span class="id" title="class">SubstFresh</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_fresh_ctx"><span class="id" title="lemma">subst_fresh_ctx</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env"><span class="id" title="abbreviation">fv_env</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_env"><span class="id" title="abbreviation">subst_env</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#G"><span class="id" title="variable">G</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">G</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_empty</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_env_push"><span class="id" title="lemma">fv_env_push</span></a>, <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_concat</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHG</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_single</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_fresh"><span class="id" title="definition">subst_fresh</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_SubstFresh"><span class="id" title="section">About_SubstFresh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_SubstOpenCommut"><span class="id" title="section">About_SubstOpenCommut</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenCommut"><span class="id" title="class">SubstOpenCommut</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_open_commut_single"><span class="id" title="lemma">subst_open_commut_single</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">/[</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">]</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">/[</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#96b633d5169de23740e8856c1f4462cf"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_commut"><span class="id" title="definition">subst_open_commut</span></a>; <span class="id" title="var">cases_if</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_open_commut_depth"><span class="id" title="lemma">subst_open_commut_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <span class="id" title="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">\[</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#efac254cd709266553e0de145c715b1d"><span class="id" title="notation">]</span></a>) <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>, <span class="id" title="var">open_depth</span>, <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_commut"><span class="id" title="definition">subst_open_commut</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_open_rec_vars_commut"><span class="id" title="lemma">subst_open_rec_vars_commut</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">ys</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> (<span class="id" title="definition">List.map</span> (<a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#subst_fvar"><span class="id" title="definition">subst_fvar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">ys</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHys</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_commut"><span class="id" title="definition">subst_open_commut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_open_vars_commut_fresh_length"><span class="id" title="lemma">subst_open_vars_commut_fresh_length</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">ys</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="definition">fresh</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">}</span> (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_rec_vars_commut"><span class="id" title="lemma">subst_open_rec_vars_commut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraSubstFvar.html#fresh_vars_map"><span class="id" title="lemma">fresh_vars_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_SubstOpenCommut"><span class="id" title="section">About_SubstOpenCommut</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_FvOpenCases"><span class="id" title="section">About_FvOpenCases</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="notin_open"><span class="id" title="lemma">notin_open</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a> <span class="id" title="var">y</span> <span class="id" title="var">T</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Heq</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="notin_open_rec_vars"><span class="id" title="lemma">notin_open_rec_vars</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">ys</span> <span class="id" title="var">T</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<span class="id" title="notation">\{</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span>) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <span class="id" title="var">a</span><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHys</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="notin_open_rec_vars_list"><span class="id" title="lemma">notin_open_rec_vars_list</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">ys</span> <span class="id" title="var">T</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="definition">from_list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">from_list_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHys</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H'</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <span class="id" title="var">a</span><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fresh_open"><span class="id" title="lemma">fresh_open</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ys</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<span class="id" title="notation">\{</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span>) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>)) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">y</span> <span class="id" title="var">ys</span> <span class="id" title="var">IHys</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span> [<span class="id" title="var">HfrTy</span> <span class="id" title="var">HfrTys</span>] [<span class="id" title="var">HfrXy</span> <span class="id" title="var">HfrXys</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#notin_open"><span class="id" title="lemma">notin_open</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fresh_open_vars"><span class="id" title="lemma">fresh_open_vars</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ys</span> <span class="id" title="var">xs</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<span class="id" title="definition">from_list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a>) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fresh</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_vars"><span class="id" title="definition">open_rec_vars</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#T"><span class="id" title="variable">T</span></a>)) (<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ys</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">y</span> <span class="id" title="var">ys</span> <span class="id" title="var">IHys</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IHxs</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">from_list_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span> [<span class="id" title="var">HfrTy</span> <span class="id" title="var">HfrTys</span>] [<span class="id" title="var">HfrXsy</span> <span class="id" title="var">HfrXsys</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">fresh</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span>) (<span class="id" title="definition">length</span> <span class="id" title="var">ys</span>) <span class="id" title="var">ys</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HfrTys'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">fresh</span> <span class="id" title="notation">\{</span><span class="id" title="var">x</span><span class="id" title="notation">}</span> (<span class="id" title="definition">length</span> <span class="id" title="var">ys</span>) <span class="id" title="var">ys</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HfrXys'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">fresh</span> (<span class="id" title="definition">from_list</span> <span class="id" title="var">xs</span>) (<span class="id" title="definition">length</span> <span class="id" title="var">ys</span>) <span class="id" title="var">ys</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HfrXsys'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHys</span> (<span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="constructor">nil</span>)%<span class="id" title="var">list</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span> <span class="id" title="var">HfrTys'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HfrTXys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">from_list_cons</span>, <span class="id" title="lemma">from_list_nil</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="lemma">union_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HfrTXys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HfrTXys</span> <span class="id" title="var">HfrXys'</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HfrTXys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHys</span> <span class="id" title="var">xs</span> (<span class="id" title="constructor">S</span> <span class="id" title="var">n</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>) <span class="id" title="var">HfrTXys</span> <span class="id" title="var">HfrXsys'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHxs</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#notin_open"><span class="id" title="lemma">notin_open</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_FvOpenCases"><span class="id" title="section">About_FvOpenCases</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 4 (?<span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> ?<span class="id" title="var">n</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">T</span>)) =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#notin_open"><span class="id" title="lemma">notin_open</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span>) : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_ClosingSanity"><span class="id" title="section">About_ClosingSanity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="About_ClosingSanity.OpenClose"><span class="id" title="section">OpenClose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenClose"><span class="id" title="class">OpenClose</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="open_depth_close_depth"><span class="id" title="lemma">open_depth_close_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">open_depth</span>, <span class="id" title="var">close_depth</span>, <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_close"><span class="id" title="definition">open_close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ClosingSanity.OpenClose"><span class="id" title="section">OpenClose</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="About_ClosingSanity.CloseOpen"><span class="id" title="section">CloseOpen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseOpen"><span class="id" title="class">CloseOpen</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="close_depth_open_depth"><span class="id" title="lemma">close_depth_open_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">open_depth</span>, <span class="id" title="var">close_depth</span>, <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_open"><span class="id" title="definition">close_open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ClosingSanity.CloseOpen"><span class="id" title="section">CloseOpen</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="About_ClosingSanity.SubstOpenClose"><span class="id" title="section">SubstOpenClose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenClose"><span class="id" title="class">SubstOpenClose</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_open_close_depth"><span class="id" title="lemma">subst_open_close_depth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">open_depth</span>, <span class="id" title="var">close_depth</span>, <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>, <a class="idref" href="DOT.Lib.LibExtraProgram.html#compose12"><span class="id" title="definition">compose12</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_close"><span class="id" title="definition">subst_open_close</span></a> (<span class="id" title="var">n</span> <span class="id" title="notation">+</span> <span class="id" title="var">m</span>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ClosingSanity.SubstOpenClose"><span class="id" title="section">SubstOpenClose</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ClosingSanity"><span class="id" title="section">About_ClosingSanity</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="About_ListLike"><span class="id" title="section">About_ListLike</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListLike"><span class="id" title="class">ListLike</span></a> <span class="id" title="var">B</span> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="app_s"><span class="id" title="definition">app_s</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> := <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> (<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">++</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a><span class="id" title="notation">)</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a name="cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">&quot;</span></a>++" := <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a> (<span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="app_s_assoc"><span class="id" title="lemma">app_s_assoc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">zs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#zs"><span class="id" title="variable">zs</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#zs"><span class="id" title="variable">zs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a>. <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">List.app_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map_f"><span class="id" title="definition">map_f</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span> := <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> (<span class="id" title="definition">List.map</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_f_app_s"><span class="id" title="lemma">map_f_app_s</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a>. <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">List.map_app</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">xs</span> := <span class="id" title="definition">length</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="app_s_length_s"><span class="id" title="lemma">app_s_length_s</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="notation">+</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a>. <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">List.app_length</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="singles_map_to_list"><span class="id" title="lemma">singles_map_to_list</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">f</span> <span class="id" title="var">ys</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">~*</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="axiom">map</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">~*</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_singles</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_map"><span class="id" title="lemma">liblist_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_length"><span class="id" title="lemma">liblist_length</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="singles_rev_map_to_list"><span class="id" title="lemma">singles_rev_map_to_list</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">f</span> <span class="id" title="var">ys</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">length</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.LibExtraEnv.html#d49bbae905db9a1ef2bacb57bfb3b51d"><span class="id" title="notation">~**</span></a> <a class="idref" href="DOT.Lib.LibExtraEnv.html#d49bbae905db9a1ef2bacb57bfb3b51d"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="DOT.Lib.LibExtraEnv.html#d49bbae905db9a1ef2bacb57bfb3b51d"><span class="id" title="notation">)</span></a> <span class="id" title="notation">=</span> <span class="id" title="axiom">map</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a> <a class="idref" href="DOT.Lib.LibExtraEnv.html#d49bbae905db9a1ef2bacb57bfb3b51d"><span class="id" title="notation">~**</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_singles</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_map"><span class="id" title="lemma">liblist_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">List.map_rev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtraList.html#liblist_length"><span class="id" title="lemma">liblist_length</span></a>. <span class="id" title="tactic">rewrite</span> ? <span class="id" title="lemma">List.rev_length</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="of_list_app"><span class="id" title="lemma">of_list_app</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="notation">++</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#xs"><span class="id" title="variable">xs</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ys"><span class="id" title="variable">ys</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_to_list"><span class="id" title="method">of_list_to_list</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="listlike_rev_ind"><span class="id" title="lemma">listlike_rev_ind</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">P</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ListLike.A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="constructor">nil</span>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">b</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ListLike.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ListLike.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">++</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list"><span class="id" title="definition">of_list</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="notation">::</span> <span class="id" title="constructor">nil</span>)<a class="idref" href="DOT.Lib.SyntaxClasses.html#cb89675701d2d8603592d7c16c5537cf"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ListLike.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list_of_list"><span class="id" title="method">to_list_of_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#to_list"><span class="id" title="definition">to_list</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">using</span> <span class="id" title="lemma">List.rev_ind</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#of_list_app"><span class="id" title="lemma">of_list_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_ListLike"><span class="id" title="section">About_ListLike</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a name="fb27b61dfadad676e1d19284e298bf70"><span class="id" title="notation">&quot;</span></a>++" := <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a> (<span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60) : <span class="id" title="var">syntax_scope</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#app_s"><span class="id" title="definition">app_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#map_f"><span class="id" title="definition">map_f</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">_</span> /.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab42"></a><h2 class="section">Typeclass Implications</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="About_CloseUnbound"><span class="id" title="section">About_CloseUnbound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <span class="id" title="var">A</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.AS"><span class="id" title="variable">AS</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">CU</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseUnbound"><span class="id" title="class">CloseUnbound</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.C"><span class="id" title="variable">C</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">CO</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseOpen"><span class="id" title="class">CloseOpen</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.C"><span class="id" title="variable">C</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Every CloseUnbound leads to a OpenInjective 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="CloseUnboundOpenInjective"><span class="id" title="instance">CloseUnboundOpenInjective</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenInjective"><span class="id" title="class">OpenInjective</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.AS"><span class="id" title="variable">AS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">f_equal</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <span class="id" title="var">k</span> <span class="id" title="var">z</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_open"><span class="id" title="definition">close_open</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_unbound"><span class="id" title="definition">close_unbound</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>), (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_unbound"><span class="id" title="definition">close_unbound</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">SOC</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenClose"><span class="id" title="class">SubstOpenClose</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.C"><span class="id" title="variable">C</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="CloseUnboundSubstIntro"><span class="id" title="instance">CloseUnboundSubstIntro</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstIntro"><span class="id" title="class">SubstIntro</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound.AS"><span class="id" title="variable">AS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_close"><span class="id" title="definition">subst_open_close</span></a>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_unbound"><span class="id" title="definition">close_unbound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#About_CloseUnbound"><span class="id" title="section">About_CloseUnbound</span></a>.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CloseUnboundOpenInjective</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CloseUnboundSubstIntro</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab43"></a><h3 class="section">List of Syntax</h3>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="ListOfSyntax"><span class="id" title="section">ListOfSyntax</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.GetLabeled"><span class="id" title="section">GetLabeled</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">L</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="get_labeld_list"><span class="id" title="definition">get_labeld_list</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#label"><span class="id" title="inductive">label</span></a>) (<span class="id" title="var">ds</span>: <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>): <span class="id" title="inductive">option</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">nil</span> =&gt; <span class="id" title="constructor">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">cons</span> <span class="id" title="var">d</span> <span class="id" title="var">ds</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">If</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <span class="id" title="var">d</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">then</span> <span class="id" title="constructor">Some</span> <span class="id" title="var">d</span> <span class="id" title="notation">else</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld_list"><span class="id" title="definition">get_labeld_list</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListGetLabeled"><span class="id" title="instance">ListGetLabeled</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#GetLabeled"><span class="id" title="class">GetLabeled</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.GetLabeled.L"><span class="id" title="variable">L</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld_list"><span class="id" title="definition">get_labeld_list</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="labels_has_cons"><span class="id" title="lemma">labels_has_cons</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ds</span> <span class="id" title="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="notation">::</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">case_if</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="labels_has_rest"><span class="id" title="lemma">labels_has_rest</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ds</span> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="notation">::</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d2"><span class="id" title="variable">d2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d2"><span class="id" title="variable">d2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a>%<span class="id" title="var">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d2"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hhas</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld"><span class="id" title="definition">get_labeld</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhas</span>; <span class="id" title="var">cases_if</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="labels_has_hasnt_neq"><span class="id" title="lemma">labels_has_hasnt_neq</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">ds</span> <span class="id" title="var">d1</span> <span class="id" title="var">d2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d2"><span class="id" title="variable">d2</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d2"><span class="id" title="variable">d2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hhas</span> <span class="id" title="var">Hhasnt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_has"><span class="id" title="definition">labels_has</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhasnt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ds</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="labels_hasnt_cons_inv"><span class="id" title="lemma">labels_hasnt_cons_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">ds</span> <span class="id" title="var">d</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="notation">::</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">&lt;&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_of"><span class="id" title="definition">label_of</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="notation">/\</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">cases_if</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.GetLabeled"><span class="id" title="section">GetLabeled</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">O</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">F</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">S</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">AS</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.O"><span class="id" title="variable">O</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.F"><span class="id" title="variable">F</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.S"><span class="id" title="variable">S</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="list_map_compose"><span class="id" title="lemma">list_map_compose</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#B"><span class="id" title="variable">B</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#C"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">List.map</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="notation">∘</span> <span class="id" title="definition">List.map</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">=</span> <span class="id" title="definition">List.map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">xs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">List.map_map</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="open_rec_list"><span class="id" title="definition">open_rec_list</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="definition">List.map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="fv_list"><span class="id" title="definition">fv_list</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">List.fold_right</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">acc</span> =&gt; <span class="id" title="axiom">union</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#acc"><span class="id" title="variable">acc</span></a>) <span class="id" title="notation">\{}</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="subst_var_list"><span class="id" title="definition">subst_var_list</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="definition">List.map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Always&nbsp;unfold&nbsp;the&nbsp;above&nbsp;in&nbsp;this&nbsp;section&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> /.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_list"><span class="id" title="definition">fv_list</span></a> /.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var_list"><span class="id" title="definition">subst_var_list</span></a> /.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListOpenable"><span class="id" title="instance">ListOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListFreeVar"><span class="id" title="instance">ListFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_list"><span class="id" title="definition">fv_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var_list"><span class="id" title="definition">subst_var_list</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListAbstractSyntax"><span class="id" title="instance">ListAbstractSyntax</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListFreeVar"><span class="id" title="instance">ListFreeVar</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.LabelHasnt"><span class="id" title="section">LabelHasnt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">L</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.A"><span class="id" title="variable">A</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">SL</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstLabel"><span class="id" title="class">SubstLabel</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.LabelHasnt.L"><span class="id" title="variable">L</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ListGetLabeled</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="subst_labels_hasnt"><span class="id" title="lemma">subst_labels_hasnt</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">ds</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ds"><span class="id" title="variable">ds</span></a>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#labels_hasnt"><span class="id" title="definition">labels_hasnt</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#get_labeld"><span class="id" title="definition">get_labeld</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListGetLabeled"><span class="id" title="instance">ListGetLabeled</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_label"><span class="id" title="definition">subst_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Eq</span>. <span class="id" title="var">case_if</span>~.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.LabelHasnt"><span class="id" title="section">LabelHasnt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.OpenCompose"><span class="id" title="section">OpenCompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">OT</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenTwice"><span class="id" title="class">OpenTwice</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.O"><span class="id" title="variable">O</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListOpenTwice"><span class="id" title="instance">ListOpenTwice</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenTwice"><span class="id" title="class">OpenTwice</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#list_map_compose"><span class="id" title="lemma">list_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_twice"><span class="id" title="definition">open_twice</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">OC</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenCommut"><span class="id" title="class">OpenCommut</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.O"><span class="id" title="variable">O</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListOpenCommut"><span class="id" title="instance">ListOpenCommut</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenCommut"><span class="id" title="class">OpenCommut</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#list_map_compose"><span class="id" title="lemma">list_map_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_commut"><span class="id" title="definition">open_commut</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.OpenCompose"><span class="id" title="section">OpenCompose</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.SubstFresh"><span class="id" title="section">SubstFresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">SF</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstFresh"><span class="id" title="class">SubstFresh</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.AS"><span class="id" title="variable">AS</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListSubstFresh"><span class="id" title="instance">ListSubstFresh</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstFresh"><span class="id" title="class">SubstFresh</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListAbstractSyntax"><span class="id" title="instance">ListAbstractSyntax</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstFresh"><span class="id" title="class">SubstFresh</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHX</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_fresh"><span class="id" title="definition">subst_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.SubstFresh"><span class="id" title="section">SubstFresh</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.SubstOpenCommut"><span class="id" title="section">SubstOpenCommut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">SF</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenCommut"><span class="id" title="class">SubstOpenCommut</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.AS"><span class="id" title="variable">AS</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListSubstOpenCommut"><span class="id" title="instance">ListSubstOpenCommut</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenCommut"><span class="id" title="class">SubstOpenCommut</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListAbstractSyntax"><span class="id" title="instance">ListAbstractSyntax</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_commut"><span class="id" title="definition">subst_open_commut</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.SubstOpenCommut"><span class="id" title="section">SubstOpenCommut</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.FvOpenCases"><span class="id" title="section">FvOpenCases</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">FOC</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.AS"><span class="id" title="variable">AS</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListFvOpenCases"><span class="id" title="instance">ListFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListAbstractSyntax"><span class="id" title="instance">ListAbstractSyntax</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.LibExtraEnv.html#union_eq_cases"><span class="id" title="lemma">union_eq_cases</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.FvOpenCases"><span class="id" title="section">FvOpenCases</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="ListOfSyntax.Closing"><span class="id" title="section">Closing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.AS"><span class="id" title="variable">AS</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListClosing"><span class="id" title="instance">ListClosing</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Closing"><span class="id" title="class">Closing</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListAbstractSyntax"><span class="id" title="instance">ListAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="definition">List.map</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#x"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">lift_closing</span> <span class="id" title="var">lem</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListClosing"><span class="id" title="instance">ListClosing</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.SyntaxClasses.html#list_map_compose"><span class="id" title="lemma">list_map_compose</span></a>, <span class="id" title="var">lem</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">OC</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenClose"><span class="id" title="class">OpenClose</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.Closing.C"><span class="id" title="variable">C</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListOpenClose"><span class="id" title="instance">ListOpenClose</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#OpenClose"><span class="id" title="class">OpenClose</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListClosing"><span class="id" title="instance">ListClosing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lift_closing</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_close"><span class="id" title="definition">open_close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">CO</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseOpen"><span class="id" title="class">CloseOpen</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.Closing.C"><span class="id" title="variable">C</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListCloseOpen"><span class="id" title="instance">ListCloseOpen</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseOpen"><span class="id" title="class">CloseOpen</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListClosing"><span class="id" title="instance">ListClosing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lift_closing</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_open"><span class="id" title="definition">close_open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">SOC</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenClose"><span class="id" title="class">SubstOpenClose</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.Closing.C"><span class="id" title="variable">C</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListSubstOpenClose"><span class="id" title="instance">ListSubstOpenClose</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstOpenClose"><span class="id" title="class">SubstOpenClose</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListClosing"><span class="id" title="instance">ListClosing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lift_closing</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_open_close"><span class="id" title="definition">subst_open_close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">CU</span>: <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseUnbound"><span class="id" title="class">CloseUnbound</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.Closing.C"><span class="id" title="variable">C</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="ListCloseUnbound"><span class="id" title="instance">ListCloseUnbound</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#CloseUnbound"><span class="id" title="class">CloseUnbound</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListClosing"><span class="id" title="instance">ListClosing</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_unbound"><span class="id" title="definition">close_unbound</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
From above, this implies OpenInjective and SubstIntro 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax.Closing"><span class="id" title="section">Closing</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOfSyntax"><span class="id" title="section">ListOfSyntax</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListFreeVar"><span class="id" title="instance">ListFreeVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>
<span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListGetLabeled</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListOpenable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListFreeVar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListSubstVar</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListAbstractSyntax</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListOpenTwice</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListOpenCommut</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListSubstFresh</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListSubstOpenCommut</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListFvOpenCases</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListClosing</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListOpenClose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListCloseOpen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListSubstOpenClose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ListCloseUnbound</span> | 1.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_list</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[(@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">SO</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="inductive">list</span> <span class="id" title="var">s</span>) (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[(@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var_list"><span class="id" title="definition">subst_var_list</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">SS</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var_list"><span class="id" title="definition">subst_var_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SS</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> (<span class="id" title="inductive">list</span> <span class="id" title="var">s</span>) (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SS</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "fold_list" "in" "*" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[(@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">SO</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="inductive">list</span> <span class="id" title="var">s</span>) (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)) <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span>: <span class="id" title="keyword">context</span>[(@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">SO</span>)] |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="inductive">list</span> <span class="id" title="var">s</span>) (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)) <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "fold_list" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[(@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> ?<span class="id" title="var">s</span> ?<span class="id" title="var">SO</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec_list"><span class="id" title="definition">open_rec_list</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="inductive">list</span> <span class="id" title="var">s</span>) (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListOpenable"><span class="id" title="instance">ListOpenable</span></a> <span class="id" title="var">s</span> <span class="id" title="var">SO</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab44"></a><h2 class="section">Tactics</h2>

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unfold_syntax</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_depth_rec"><span class="id" title="definition">close_depth_rec</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#close_rec"><span class="id" title="definition">close_rec</span></a>, <a class="idref" href="DOT.Lib.SyntaxClasses.html#dec_fv"><span class="id" title="definition">dec_fv</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">simpls</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
