<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">README</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">DOT.CanonicalForms.InvertibleTyping</h1>

<div class="code">

<br/>
</div>

<div class="doc">
This module contains lemmas related to invertible typing
    (<span class="inlinecode"><span class="id" title="var">ty_var_inv</span></span>, <span class="inlinecode">⊢##</span> and <span class="inlinecode"><span class="id" title="var">ty_item_inv</span></span>, <span class="inlinecode">⊢##<span class="id" title="var">v</span></span>). 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Lib.LibExtra.html#"><span class="id" title="library">LibExtra</span></a> <a class="idref" href="DOT.Lib.DotTactics.html#"><span class="id" title="library">DotTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Program.Equality</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Definitions.Syntax.AbstractSyntax.html#"><span class="id" title="library">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#"><span class="id" title="library">Typing</span></a> <a class="idref" href="DOT.Definitions.Typing.GeneralTyping.html#"><span class="id" title="library">GeneralTyping</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#"><span class="id" title="library">PreciseTyping</span></a> <a class="idref" href="DOT.CanonicalForms.RecordAndInertTypes.html#"><span class="id" title="library">RecordAndInertTypes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.TightTyping.html#"><span class="id" title="library">TightTyping</span></a> <a class="idref" href="DOT.GeneralTyping.Subenvironments.html#"><span class="id" title="library">Subenvironments</span></a> <a class="idref" href="DOT.GeneralTyping.Narrowing.html#"><span class="id" title="library">Narrowing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InertTightSubtyping.html#"><span class="id" title="library">InertTightSubtyping</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab150"></a><h2 class="section">Invertible typing</h2>

<div class="paragraph"> </div>

 The invertible-typing relation describes the possible types that a variable or value
can be typed with in an inert context. For example, if <span class="inlinecode"><span class="id" title="var">G</span></span> is inert, <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢!</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span>,
and <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T'</span></span>, then <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T'</span>}</span>.

<div class="paragraph"> </div>

The purpose of invertible typing is to be easily invertible into a precise typing relation.
To achieve that, invertible typing avoids typing cycles that could result from, for example,
repeated applications of recursion introduction and elimination.
For this case, invertible typing defines only recursion introduction (whereas precise typing
defines only recursion elimination). 
<div class="paragraph"> </div>

<a name="lab151"></a><h2 class="section">Invertible typing of variables <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G '⊢##' x '∶' T" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 59).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="ty_var_inv"><span class="id" title="inductive">ty_var_inv</span></a> : <a class="idref" href="DOT.Definitions.Syntax.AbstractSyntax.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢!</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">T</span></span>  <br>
    <span class="inlinecode">―――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">T</span></span>     
</div>
<div class="code">
| <a name="ty_precise_inv"><span class="id" title="constructor">ty_precise_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⪼</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     <br>
    <span class="inlinecode">――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span>}</span>     
</div>
<div class="code">
| <a name="ty_dec_trm_inv"><span class="id" title="constructor">ty_dec_trm_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U1"><span class="id" title="variable">U1</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T2"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U1"><span class="id" title="variable">U1</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U2"><span class="id" title="variable">U2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U2"><span class="id" title="variable">U2</span></a>)<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>..<span class="id" title="var">U</span>}</span>   <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">T'</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>         <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">U</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U'</span></span>         <br>
    <span class="inlinecode">―――――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">T'</span>..<span class="id" title="var">U'</span>}</span>     
</div>
<div class="code">
| <a name="ty_dec_typ_inv"><span class="id" title="constructor">ty_dec_typ_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span> <span class="id" title="var">U'</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U'"><span class="id" title="variable">U'</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U'"><span class="id" title="variable">U'</span></a>)<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">x</span></span>   <br>
    <span class="inlinecode">―――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span> 
</div>
<div class="code">
| <a name="ty_bnd_inv"><span class="id" title="constructor">ty_bnd_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S</span>)<span class="id" title="var">T</span></span>          <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">S'</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S</span></span>            <br>
    <span class="inlinecode"><span class="id" title="var">G</span>,</span> <span class="inlinecode"><span class="id" title="var">y</span>:</span> <span class="inlinecode"><span class="id" title="var">S'</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">y</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T'</span>^<span class="id" title="var">y</span></span>   <br>
    <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span>                  <br>
    <span class="inlinecode">――――――――――――――――――――――</span>   <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S'</span>)<span class="id" title="var">T'</span></span>            
</div>
<div class="code">
| <a name="ty_all_inv"><span class="id" title="constructor">ty_all_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">S'</span> <span class="id" title="var">T'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">∶</span> <span class="inlinecode"><span class="id" title="var">T</span></span>     <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">∶</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     <br>
    <span class="inlinecode">――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">∶</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span>      
</div>
<div class="code">
| <a name="ty_and_inv"><span class="id" title="constructor">ty_and_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S2"><span class="id" title="variable">S2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S2"><span class="id" title="variable">S2</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">S</span></span>        <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢!</span> <span class="inlinecode"><span class="id" title="var">y</span>∶</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">S</span>}</span> <br>
    <span class="inlinecode">――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">y.A</span></span>           <span class="inlinecode"></span>
</div>
<div class="code">
| <a name="ty_sel_inv"><span class="id" title="constructor">ty_sel_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⪼</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#A"><span class="id" title="variable">A</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">T</span></span>   <br>
    <span class="inlinecode">―――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">top</span></span>     
</div>
<div class="code">
| <a name="ty_top_inv"><span class="id" title="constructor">ty_top_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
<span class="id" title="keyword">where</span> <a name="94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">&quot;</span></a>G '⊢##' x '∶' T" := (<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#ty_var_inv"><span class="id" title="inductive">ty_var_inv</span></a> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>).<br/>

<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#ty_var_inv"><span class="id" title="inductive">ty_var_inv</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab152"></a><h2 class="section">Invertible to Precise Typing <span class="inlinecode">|-##</span> <span class="inlinecode"><span class="id" title="var">to</span></span> <span class="inlinecode">|-!</span></h2>

<div class="paragraph"> </div>

 Invertible-to-precise typing for field declarations: <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span>            <br>
    <span class="inlinecode">――――――――――――――――――――――</span>      <br>
    <span class="inlinecode"><span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">T'</span>,</span> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢!</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T'</span>}</span>      <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">T'</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="invertible_to_precise_trm_dec"><span class="id" title="lemma">invertible_to_precise_trm_dec</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">exists</span> <span class="id" title="var">S'</span> <span class="id" title="var">T'</span> <span class="id" title="var">U</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⪼</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Types.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a>) <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">T0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHinv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHinv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [<span class="id" title="var">V'</span> [<span class="id" title="var">V''</span> [<span class="id" title="var">Hx</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">V</span> <span class="id" title="var">V'</span> <span class="id" title="var">V''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">repeat_split_right</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#subtyp_trans_t"><span class="id" title="constructor">subtyp_trans_t</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Invertible-to-precise typing for function types: <br>
    <span class="inlinecode"><span class="id" title="var">ok</span></span> <span class="inlinecode"><span class="id" title="var">G</span></span>                        <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S</span>)<span class="id" title="var">T</span></span>             <br>
    <span class="inlinecode">――――――――――――――――――――――――――</span>  <br>
    <span class="inlinecode"><span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">S'</span>,</span> <span class="inlinecode"><span class="id" title="var">T'</span>.</span> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢!</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S'</span>)<span class="id" title="var">T'</span></span>  <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S'</span></span>               <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">T'</span>^<span class="id" title="var">y</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">y</span></span>, where <span class="inlinecode"><span class="id" title="var">y</span></span> is fresh. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="invertible_to_precise_typ_all"><span class="id" title="lemma">invertible_to_precise_typ_all</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<span class="id" title="inductive">ok</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">exists</span> <span class="id" title="var">S'</span> <span class="id" title="var">T'</span> <span class="id" title="var">U</span> <span class="id" title="var">L</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#5672a19843f7cc5777c1cb56b49a2309"><span class="id" title="notation">⪼</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S'"><span class="id" title="variable">S'</span></a> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">~</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HG</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">T0</span> (<span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHinv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HG</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHinv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">S'</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">V'</span> [<span class="id" title="var">L'</span> [<span class="id" title="var">Hpt</span> [<span class="id" title="var">HSsub</span> <span class="id" title="var">HTsub</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">S'</span> <span class="id" title="var">T'</span> <span class="id" title="var">V'</span> (<span class="id" title="axiom">dom</span> <span class="id" title="var">G</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsub2</span> : <span class="id" title="var">G</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">S0</span> <span class="id" title="var">T0</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">S</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#subtyp_all_t"><span class="id" title="constructor">subtyp_all_t</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#subtyp_trans_t"><span class="id" title="constructor">subtyp_trans_t</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hok</span>: <span class="id" title="inductive">ok</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">y</span> <span class="id" title="notation">~</span> <span class="id" title="var">S</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="constructor">ok_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#tight_to_general"><span class="id" title="lemma">tight_to_general</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnarrow</span>: <span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">y</span> <span class="id" title="notation">~</span> <span class="id" title="var">S</span> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <span class="id" title="var">y</span> <span class="id" title="var">T'</span> <a class="idref" href="DOT.Definitions.TypingClasses.Typing.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open"><span class="id" title="abbreviation">open</span></a> <span class="id" title="var">y</span> <span class="id" title="var">T0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.GeneralTyping.Narrowing.html#narrow_subtyping"><span class="id" title="lemma">narrow_subtyping</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.GeneralTyping.Subenvironments.html#subenv_last"><span class="id" title="lemma">subenv_last</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab153"></a><h2 class="section">Invertible Subtyping Closure</h2>

<div class="paragraph"> </div>

 Invertible typing is closed under tight subtyping. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="invertible_typing_closure_tight"><span class="id" title="lemma">invertible_typing_closure_tight</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.RecordAndInertTypes.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">Hi</span> <span class="id" title="var">HT</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#pf_bot_false"><span class="id" title="lemma">pf_bot_false</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HT</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#pf_and1"><span class="id" title="constructor">pf_and1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>* <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#ty_precise_inv"><span class="id" title="constructor">ty_precise_inv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HT</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#pf_and2"><span class="id" title="constructor">pf_and2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>* <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#ty_precise_inv"><span class="id" title="constructor">ty_precise_inv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>* <a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#pf_psel_false"><span class="id" title="lemma">pf_psel_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> <span class="id" title="var">Hu</span>: (<a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#x_bound_unique"><span class="id" title="lemma">x_bound_unique</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H5</span>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DOT.CanonicalForms.PreciseTyping.html#pf_inert_unique_tight_bounds"><span class="id" title="lemma">pf_inert_unique_tight_bounds</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">H</span> <span class="id" title="var">H5</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab154"></a><h2 class="section">Tight-to-Invertible Lemma for Variables <span class="inlinecode">|-#</span> <span class="inlinecode"><span class="id" title="var">to</span></span> <span class="inlinecode">|-##</span></h2>


<div class="paragraph"> </div>

       <span class="inlinecode"><span class="id" title="var">inert</span></span> <span class="inlinecode"><span class="id" title="var">G</span></span>            <br>
       <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢#</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">U</span></span>         <br>
       <span class="inlinecode">―――――――――――――――</span>    <br>
       <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢##</span> <span class="inlinecode"><span class="id" title="var">x</span>∶</span> <span class="inlinecode"><span class="id" title="var">U</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tight_to_invertible"><span class="id" title="lemma">tight_to_invertible</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">U</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.RecordAndInertTypes.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.TightTyping.html#ceafd746ea64a5e6c98f8c6f374b73b7"><span class="id" title="notation">⊢#</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.CanonicalForms.TightTyping.html#ceafd746ea64a5e6c98f8c6f374b73b7"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">⊢##</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#94ce08f24261f13b09eec57fcaed3791"><span class="id" title="notation">∶</span></a> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#U"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">U</span> <span class="id" title="var">x</span> <span class="id" title="var">Hgd</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">t</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hty</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHty</span> <span class="id" title="var">Hgd</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">IHHty</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#ty_precise_inv"><span class="id" title="constructor">ty_precise_inv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.CanonicalForms.InvertibleTyping.html#invertible_typing_closure_tight"><span class="id" title="lemma">invertible_typing_closure_tight</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
