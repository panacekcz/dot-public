<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">README</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">DOT.Definitions.Syntax.Terms</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Bool.Bool</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Lib.LibExtra.html#"><span class="id" title="library">LibExtra</span></a> <a class="idref" href="DOT.Lib.DotTactics.html#"><span class="id" title="library">DotTactics</span></a> <a class="idref" href="DOT.Lib.SyntaxClasses.html#"><span class="id" title="library">SyntaxClasses</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#"><span class="id" title="library">Vars</span></a> <a class="idref" href="DOT.Lib.TransformCollect.html#"><span class="id" title="library">TransformCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Types.html#"><span class="id" title="library">Types</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab109"></a><h1 class="section">Definitions</h1>

Member definitions (<span class="inlinecode"><span class="id" title="var">def</span></span>, <span class="inlinecode"><span class="id" title="var">d</span></span> and <span class="inlinecode"><span class="id" title="var">defs</span></span>, <span class="inlinecode"><span class="id" title="var">ds</span></span>):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">def_typ</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a type-member definition <span class="inlinecode">{<span class="id" title="var">A</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">def_trm</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> represents a field definition <span class="inlinecode">{<span class="id" title="var">a</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">null</span>}</span>; 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="def"><span class="id" title="inductive">def</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="def_typ"><span class="id" title="constructor">def_typ</span></a>  : <a class="idref" href="DOT.Lib.SyntaxClasses.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a><br/>
&nbsp;&nbsp;| <a name="def_trm"><span class="id" title="constructor">def_trm</span></a>  : <a class="idref" href="DOT.Lib.SyntaxClasses.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><span class="id" title="var">defs</span></span> represents a list of definitions that are part of an intersection
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">nil</span></span> represents the empty list;

</li>
<li> <span class="inlinecode"><span class="id" title="var">cons</span></span> <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span> represents a concatenation of the definition <span class="inlinecode"><span class="id" title="var">d</span></span> to the definitions <span class="inlinecode"><span class="id" title="var">ds</span></span>. 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="defs"><span class="id" title="abbreviation">defs</span></a> := (<span class="id" title="inductive">list</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab110"></a><h1 class="section">Terms</h1>

  Terms (<span class="inlinecode"><span class="id" title="var">trm</span></span>, <span class="inlinecode"><span class="id" title="var">t</span></span>, <span class="inlinecode"><span class="id" title="var">u</span></span>) and literals (<span class="inlinecode"><span class="id" title="var">lit</span></span>, <span class="inlinecode"><span class="id" title="var">l</span></span>):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">trm_var</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> represents a variable <span class="inlinecode"><span class="id" title="var">x</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_sel</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> represents a field selection <span class="inlinecode"><span class="id" title="var">x.a</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_app</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> represents a function application <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_let</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span> represents a let binding <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>; since x is bound in <span class="inlinecode"><span class="id" title="var">u</span></span>,
    it is referred to in <span class="inlinecode"><span class="id" title="var">u</span></span> using the de Bruijn index 0, and is therefore omitted from
    the let-term representation; we will denote let terms as <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_lit</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span> represents a literal binding <span class="inlinecode"><span class="id" title="var">lit</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">l</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>; since x is bound in <span class="inlinecode"><span class="id" title="var">u</span></span>,
    it is referred to in <span class="inlinecode"><span class="id" title="var">u</span></span> using the de Bruijn index 0, and is therefore omitted from
    the let-term representation; we will denote let terms as <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">l</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_asn</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> represents a field assignment <span class="inlinecode"><span class="id" title="var">x.a</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">y</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_new</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">ys</span></span> represents a call to a constructor <span class="inlinecode"><span class="id" title="var">new</span></span> <span class="inlinecode"><span class="id" title="var">k</span>(<span class="id" title="var">ys</span>)</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">lit_fun</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> represents a function defintion <span class="inlinecode"><span class="id" title="var">lambda</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)<span class="id" title="var">t</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">lit_con</span></span> <span class="inlinecode"><span class="id" title="var">Ts</span></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> represents a constructor definition <span class="inlinecode"><span class="id" title="var">kappa</span>(<span class="id" title="var">x1</span>:<span class="id" title="var">i1</span></span> <span class="inlinecode"><span class="id" title="var">T1</span>,...-&gt;<span class="id" title="var">U</span>){<span class="id" title="var">ds</span>}<span class="id" title="var">t</span></span>;

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="trm"><span class="id" title="inductive">trm</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="trm_var"><span class="id" title="constructor">trm_var</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_sel"><span class="id" title="constructor">trm_sel</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_app"><span class="id" title="constructor">trm_app</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_let"><span class="id" title="constructor">trm_let</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_lit"><span class="id" title="constructor">trm_lit</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_asn"><span class="id" title="constructor">trm_asn</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_new"><span class="id" title="constructor">trm_new</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">list</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a><br/>
<span class="id" title="keyword">with</span> <a name="lit"><span class="id" title="inductive">lit</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="lit_fun"><span class="id" title="constructor">lit_fun</span></a> : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a><br/>
&nbsp;&nbsp;| <a name="lit_con"><span class="id" title="constructor">lit_con</span></a>  : <a class="idref" href="DOT.Definitions.Syntax.Types.html#typs"><span class="id" title="inductive">typs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#inits"><span class="id" title="abbreviation">inits</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Types.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#defs"><span class="id" title="abbreviation">defs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab111"></a><h3 class="section">Mutual Induction Principles</h3>

</div>
<div class="code">
<span class="id" title="keyword">Scheme</span> <a name="trm_mut"><span class="id" title="definition">trm_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>  <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="lit_mut"><span class="id" title="definition">lit_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>  <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="trm_mutind"><span class="id" title="definition">trm_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mut"><span class="id" title="definition">trm_mut</span></a>, <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_mut"><span class="id" title="definition">lit_mut</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab112"></a><h2 class="section">Terms are Abstract Syntax</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="open_rec_def"><span class="id" title="definition">open_rec_def</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">d</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefOpenable"><span class="id" title="instance">DefOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_def"><span class="id" title="definition">open_rec_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">t</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>): <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">v</span> <span class="id" title="var">m</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">f</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> <span class="id" title="var">T</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_lit"><span class="id" title="definition">open_rec_lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> <span class="id" title="var">v</span> <span class="id" title="var">m</span> <span class="id" title="var">v2</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">v2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> <span class="id" title="var">a</span> <span class="id" title="var">avs</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">avs</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="open_rec_lit"><span class="id" title="definition">open_rec_lit</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>): <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">Ts</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">ds</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;avar_n&nbsp;0&nbsp;refers&nbsp;to&nbsp;self/this,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avar_n&nbsp;1&nbsp;...&nbsp;length&nbsp;Ts&nbsp;refers&nbsp;to&nbsp;arguments&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmOpenable"><span class="id" title="instance">TrmOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="LitOpenable"><span class="id" title="instance">LitOpenable</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#Openable"><span class="id" title="class">Openable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_lit"><span class="id" title="definition">open_rec_lit</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_open_rec</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmOpenable"><span class="id" title="instance">TrmOpenable</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_lit"><span class="id" title="definition">open_rec_lit</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitOpenable"><span class="id" title="instance">LitOpenable</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_rec_def"><span class="id" title="definition">open_rec_def</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefOpenable"><span class="id" title="instance">DefOpenable</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_list</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fv_def"><span class="id" title="definition">fv_def</span></a> (<span class="id" title="var">d</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span>     =&gt; (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">_</span>       =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="DefFreeVar"><span class="id" title="instance">DefFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_def"><span class="id" title="definition">fv_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fv_trm"><span class="id" title="definition">fv_trm</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>         =&gt; (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>       =&gt; (<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>       =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">f</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">a</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>   =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t1</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t2</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> <span class="id" title="var">T</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>     =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_lit"><span class="id" title="definition">fv_lit</span></a> <span class="id" title="var">l</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">y</span>     =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">x</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">y</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> <span class="id" title="var">a</span> <span class="id" title="var">avs</span>     =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">a</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">avs</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="fv_lit"><span class="id" title="definition">fv_lit</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">e</span>    =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">e</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">Ts</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <span class="id" title="var">ds</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmFreeVar"><span class="id" title="instance">TrmFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="LitFreeVar"><span class="id" title="instance">LitFreeVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FreeVar"><span class="id" title="class">FreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_lit"><span class="id" title="definition">fv_lit</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_fv</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_trm"><span class="id" title="definition">fv_trm</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmFreeVar"><span class="id" title="instance">TrmFreeVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_lit"><span class="id" title="definition">fv_lit</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitFreeVar"><span class="id" title="instance">LitFreeVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_def"><span class="id" title="definition">fv_def</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefFreeVar"><span class="id" title="instance">DefFreeVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_list</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="subst_def"><span class="id" title="definition">subst_def</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">d</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">l</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">l</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">l</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_def"><span class="id" title="definition">subst_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="subst_trm"><span class="id" title="definition">subst_trm</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">t</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">x</span>        =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">L</span>     =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x1</span>) <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x1</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> <span class="id" title="var">T</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>    =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_lit"><span class="id" title="definition">subst_lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">L</span> <span class="id" title="var">x2</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x1</span>) <span class="id" title="var">L</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span>     =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="subst_lit"><span class="id" title="definition">subst_lit</span></a> (<span class="id" title="var">z</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">Ts</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">ds</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmSubstVar"><span class="id" title="instance">TrmSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="LitSubstVar"><span class="id" title="instance">LitSubstVar</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstVar"><span class="id" title="class">SubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> := <a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_lit"><span class="id" title="definition">subst_lit</span></a>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_subst</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_trm"><span class="id" title="definition">subst_trm</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmSubstVar"><span class="id" title="instance">TrmSubstVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_lit"><span class="id" title="definition">subst_lit</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitSubstVar"><span class="id" title="instance">LitSubstVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_def"><span class="id" title="definition">subst_def</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var_list"><span class="id" title="definition">subst_var_list</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#defs"><span class="id" title="abbreviation">defs</span></a> (@<a class="idref" href="DOT.Lib.SyntaxClasses.html#ListSubstVar"><span class="id" title="instance">ListSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a>));<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_list</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmOpenable"><span class="id" title="instance">TrmOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmFreeVar"><span class="id" title="instance">TrmFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmSubstVar"><span class="id" title="instance">TrmSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Instance</span> <a name="LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitOpenable"><span class="id" title="instance">LitOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitFreeVar"><span class="id" title="instance">LitFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitSubstVar"><span class="id" title="instance">LitSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Instance</span> <a name="DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#AbstractSyntax"><span class="id" title="class">AbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefOpenable"><span class="id" title="instance">DefOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefFreeVar"><span class="id" title="instance">DefFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a> := {}.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_abs</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_trm_open_rec</span>; <span class="id" title="var">fold_trm_fv</span>; <span class="id" title="var">fold_trm_subst</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab113"></a><h2 class="section">Definitions are labeled</h2>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="DefLabelOf"><span class="id" title="instance">DefLabelOf</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#LabelOf"><span class="id" title="class">LabelOf</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span>   =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefSubstLabel"><span class="id" title="instance">DefSubstLabel</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#SubstLabel"><span class="id" title="class">SubstLabel</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefLabelOf"><span class="id" title="instance">DefLabelOf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;**************************************************************************&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab114"></a><h2 class="section">Terms Satisfy Syntax Lemmas</h2>
 We will prove that the operations on Terms, Defintions and Definition Lists
    are lifted from locally nameless variables. The syntax lemmas will then by
    automatically lifted from the syntax lemmas of locally nameless variables
    through the type class mechanism 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="collect_def"><span class="id" title="definition">collect_def</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">d</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span>     =&gt; (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">_</span>       =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefCollect"><span class="id" title="instance">DefCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_def"><span class="id" title="definition">collect_def</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab115"></a><h3 class="section">Collect Variables in Terms</h3>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="collect_trm"><span class="id" title="definition">collect_trm</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">t</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>        =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>      =&gt; (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">a</span>     =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">f'</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">t2</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> <span class="id" title="var">T</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>    =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_lit"><span class="id" title="definition">collect_lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">l</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">y</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> <span class="id" title="var">a</span> <span class="id" title="var">avs</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">avs</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="collect_lit"><span class="id" title="definition">collect_lit</span></a> {<span class="id" title="var">C</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">df</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">comb</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">e</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">Ts</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">ds</span>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#df"><span class="id" title="variable">df</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb"><span class="id" title="variable">comb</span></a> <span class="id" title="var">t</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmCollect"><span class="id" title="instance">TrmCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitCollect"><span class="id" title="instance">LitCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Collect"><span class="id" title="class">Collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_lit"><span class="id" title="definition">collect_lit</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_collect</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_trm"><span class="id" title="definition">collect_trm</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmOpenable"><span class="id" title="instance">TrmOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmFreeVar"><span class="id" title="instance">TrmFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmSubstVar"><span class="id" title="instance">TrmSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmCollect"><span class="id" title="instance">TrmCollect</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_lit"><span class="id" title="definition">collect_lit</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitOpenable"><span class="id" title="instance">LitOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitFreeVar"><span class="id" title="instance">LitFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitSubstVar"><span class="id" title="instance">LitSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitCollect"><span class="id" title="instance">LitCollect</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_def"><span class="id" title="definition">collect_def</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefOpenable"><span class="id" title="instance">DefOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefFreeVar"><span class="id" title="instance">DefFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefCollect"><span class="id" title="instance">DefCollect</span></a>).<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">sympl_trm_collect</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">fold_trm_collect</span>; <span class="id" title="var">fold_trm_abs</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab116"></a><h3 class="section">Sanity for Collecting Variables in Terms</h3>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="DefCollectCompose"><span class="id" title="instance">DefCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefCollect"><span class="id" title="instance">DefCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>; <span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> <span class="id" title="var">f</span>), (<a class="idref" href="DOT.Lib.TransformCollect.html#collect_compose"><span class="id" title="definition">collect_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="collect_compose_trm_def_defs"><span class="id" title="lemma">collect_compose_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span>} (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">g</span> <span class="id" title="var">comb1</span> <span class="id" title="var">comb2</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb1"><span class="id" title="variable">comb1</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb2"><span class="id" title="variable">comb2</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb1"><span class="id" title="variable">comb1</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb2"><span class="id" title="variable">comb2</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb1"><span class="id" title="variable">comb1</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#comb2"><span class="id" title="variable">comb2</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="tactic">unfold</span> "∘";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sympl_trm_collect</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> ? <span class="id" title="var">H</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose"><span class="id" title="lemma">fold_compose</span></a> <span class="id" title="var">f</span> (<a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="var">C</span>:=<span class="id" title="var">C</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;? (<a class="idref" href="DOT.Lib.TransformCollect.html#collect_compose"><span class="id" title="definition">collect_compose</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- ? <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">collect_reflect</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefCollectReflect"><span class="id" title="instance">DefCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefCollect"><span class="id" title="instance">DefCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.LibExtraBool.html#Is_true_iff_eq_true"><span class="id" title="lemma">Is_true_iff_eq_true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect_reflect"><span class="id" title="definition">collect_reflect</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="collect_reflect_trm_def_defs"><span class="id" title="lemma">collect_reflect_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">b</span>, <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#b"><span class="id" title="variable">b</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#b"><span class="id" title="variable">b</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="definition">Is_true</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="inductive">or</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">orb</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>)<span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="definition">Is_true</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="inductive">or</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;-&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">orb</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">bl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_collect</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> 3 <span class="id" title="keyword">using</span> <a class="idref" href="DOT.Lib.LibExtraBool.html#Is_true_iff_eq_true"><span class="id" title="lemma">Is_true_iff_eq_true</span></a>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.LibExtraBool.html#or_orb_iff_left"><span class="id" title="lemma">or_orb_iff_left</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect_reflect"><span class="id" title="definition">collect_reflect</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_compose</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose</span>; <span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_compose_trm_def_defs"><span class="id" title="lemma">collect_compose_trm_def_defs</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_reflect</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_reflect_trm_def_defs"><span class="id" title="lemma">collect_reflect_trm_def_defs</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_collect_sanity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">solve</span> [<span class="id" title="var">solve_collect_compose</span> || <span class="id" title="var">solve_collect_reflect</span>].<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmCollectCompose"><span class="id" title="instance">TrmCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmCollect"><span class="id" title="instance">TrmCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitCollectCompose"><span class="id" title="instance">LitCollectCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectCompose"><span class="id" title="class">CollectCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitCollect"><span class="id" title="instance">LitCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmCollectReflect"><span class="id" title="instance">TrmCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmCollect"><span class="id" title="instance">TrmCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitCollectReflect"><span class="id" title="instance">LitCollectReflect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#CollectReflect"><span class="id" title="class">CollectReflect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitCollect"><span class="id" title="instance">LitCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_collect_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab117"></a><h3 class="section">Transforming Variables in Terms</h3>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="transform_def"><span class="id" title="definition">transform_def</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">d</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span>   =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefTransform"><span class="id" title="instance">DefTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_def"><span class="id" title="definition">transform_def</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="transform_trm"><span class="id" title="definition">transform_trm</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>      =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">v</span> <span class="id" title="var">m</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">a</span>    =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_app"><span class="id" title="constructor">trm_app</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">f'</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_let"><span class="id" title="constructor">trm_let</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">t1</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">t2</span> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> <span class="id" title="var">T</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_lit"><span class="id" title="constructor">trm_lit</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_lit"><span class="id" title="definition">transform_lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> <span class="id" title="var">v</span> <span class="id" title="var">m</span> <span class="id" title="var">v2</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_asn"><span class="id" title="constructor">trm_asn</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">m</span> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">v2</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> <span class="id" title="var">a</span> <span class="id" title="var">avs</span>  =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_new"><span class="id" title="constructor">trm_new</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">avs</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span><br/>
<a name="transform_lit"><span class="id" title="definition">transform_lit</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) (<span class="id" title="var">n</span> : <span class="id" title="inductive">nat</span>) : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> <span class="id" title="var">T</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_fun"><span class="id" title="constructor">lit_fun</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">t</span> (<span class="id" title="constructor">S</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;| <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">is'</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit_con"><span class="id" title="constructor">lit_con</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">Ts</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">T</span> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">ds</span> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">t</span> (<span class="id" title="constructor">S</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#length_s"><span class="id" title="definition">length_s</span></a> <span class="id" title="var">Ts</span>) <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;avar_n&nbsp;(0)&nbsp;refers&nbsp;to&nbsp;self/this&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmTransform"><span class="id" title="instance">TrmTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitTransform"><span class="id" title="instance">LitTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#Transform"><span class="id" title="class">Transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_lit"><span class="id" title="definition">transform_lit</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_trm_transform</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_trm"><span class="id" title="definition">transform_trm</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmOpenable"><span class="id" title="instance">TrmOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmFreeVar"><span class="id" title="instance">TrmFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmSubstVar"><span class="id" title="instance">TrmSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_lit"><span class="id" title="definition">transform_lit</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitOpenable"><span class="id" title="instance">LitOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitFreeVar"><span class="id" title="instance">LitFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitSubstVar"><span class="id" title="instance">LitSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitTransform"><span class="id" title="instance">LitTransform</span></a>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_def"><span class="id" title="definition">transform_def</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarOpenable"><span class="id" title="instance">AvarOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarFreeVar"><span class="id" title="instance">AvarFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarSubstVar"><span class="id" title="instance">AvarSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Vars.html#AvarAbstractSyntax"><span class="id" title="instance">AvarAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#def"><span class="id" title="inductive">def</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefOpenable"><span class="id" title="instance">DefOpenable</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefFreeVar"><span class="id" title="instance">DefFreeVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefSubstVar"><span class="id" title="instance">DefSubstVar</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">sympl_trm_transform</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">fold_trm_transform</span>; <span class="id" title="var">fold_trm_collect</span>; <span class="id" title="var">fold_trm_abs</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab118"></a><h3 class="section">Sanity for Transforming Variables in Terms</h3>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="DefTransformId"><span class="id" title="instance">DefTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.TransformCollect.html#transform_id"><span class="id" title="definition">transform_id</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="transform_id_trm_def_defs"><span class="id" title="lemma">transform_id_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">n</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">n</span>, <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> <span class="id" title="definition">id</span>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform_id"><span class="id" title="definition">transform_id</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefTransformCompose"><span class="id" title="instance">DefTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">unfold</span> "∘∘". <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose12"><span class="id" title="lemma">fold_compose12</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform_compose"><span class="id" title="definition">transform_compose</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="transform_compose_trm_def_defs"><span class="id" title="lemma">transform_compose_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">(</span></a><a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">)</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Lib.LibExtraProgram.html#b0118793a9858100d67795ca92b2f466"><span class="id" title="notation">∘∘</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "∘∘".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.TransformCollect.html#transform_length_s"><span class="id" title="lemma">transform_length_s</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? (<a class="idref" href="DOT.Lib.LibExtraProgram.html#fold_compose12"><span class="id" title="lemma">fold_compose12</span></a> (<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <span class="id" title="var">f</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.TransformCollect.html#transform_compose"><span class="id" title="definition">transform_compose</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_transform_sanity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_id_trm_def_defs"><span class="id" title="lemma">transform_id_trm_def_defs</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">intros_fun_ext</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#transform_compose_trm_def_defs"><span class="id" title="lemma">transform_compose_trm_def_defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmTransformId"><span class="id" title="instance">TrmTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitTransformId"><span class="id" title="instance">LitTransformId</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformId"><span class="id" title="class">TransformId</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitTransform"><span class="id" title="instance">LitTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmTransformCompose"><span class="id" title="instance">TrmTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitTransformCompose"><span class="id" title="instance">LitTransformCompose</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#TransformCompose"><span class="id" title="class">TransformCompose</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitTransform"><span class="id" title="instance">LitTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_sanity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefCollectTransform"><span class="id" title="instance">DefCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefCollect"><span class="id" title="instance">DefCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">sympl_trm_transform</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect_transform"><span class="id" title="definition">collect_transform</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="collect_transform_term"><span class="id" title="lemma">collect_transform_term</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">andb</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#bl"><span class="id" title="variable">bl</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="definition">andb</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">auto</span> 2; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">destruct_andbs</span>; <span class="id" title="var">destruct_ands</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">erewrite</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect_transform"><span class="id" title="definition">collect_transform</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">bl</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">transform</span> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#g"><span class="id" title="variable">g</span></a>) ?<span class="id" title="var">t</span> <span class="id" title="notation">=</span> ?<span class="id" title="var">transform</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#f"><span class="id" title="variable">f</span></a> ?<span class="id" title="var">t</span> |- <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="constructor">true</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">try</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#dec_apply"><span class="id" title="definition">dec_apply</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmCollectTransform"><span class="id" title="instance">TrmCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmCollect"><span class="id" title="instance">TrmCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_transform_term"><span class="id" title="lemma">collect_transform_term</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitCollectTransform"><span class="id" title="instance">LitCollectTransform</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="DOT.Lib.TransformCollect.html#CollectTransform"><span class="id" title="class">CollectTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitCollect"><span class="id" title="instance">LitCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitTransform"><span class="id" title="instance">LitTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#collect_transform_term"><span class="id" title="lemma">collect_transform_term</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab119"></a><h3 class="section">Sanity for Collecting and Transforming Variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="DefFvCollect"><span class="id" title="instance">DefFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefCollect"><span class="id" title="instance">DefCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.TransformCollect.html#fv_collect"><span class="id" title="definition">fv_collect</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefOpenTransform"><span class="id" title="instance">DefOpenTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#OpenTransform"><span class="id" title="class">OpenTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="DOT.Lib.TransformCollect.html#open_transform"><span class="id" title="definition">open_transform</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefSubstTransform"><span class="id" title="instance">DefSubstTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#SubstTransform"><span class="id" title="class">SubstTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefTransform"><span class="id" title="instance">DefTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">dp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="DOT.Lib.TransformCollect.html#subst_transform"><span class="id" title="definition">subst_transform</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fv_collect_trm_def_defs"><span class="id" title="lemma">fv_collect_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>), <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="notation">\{}</span>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (@<span class="id" title="axiom">union</span> <span class="id" title="axiom">var</span>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>), <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#collect"><span class="id" title="definition">collect</span></a> (<span class="id" title="notation">\{}</span>) <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (@<span class="id" title="axiom">union</span> <span class="id" title="axiom">var</span>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- ? <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">rewrite</span> &lt;- ? <a class="idref" href="DOT.Lib.TransformCollect.html#fv_collect"><span class="id" title="definition">fv_collect</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="open_transform_trm_def_defs"><span class="id" title="lemma">open_transform_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">x</span>, (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">x</span>, (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">intros_fun_ext</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="keyword">context</span>[<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (?<span class="id" title="var">n</span> <span class="id" title="notation">+</span> ?<span class="id" title="var">m</span>) ?<span class="id" title="var">x</span> ?<span class="id" title="var">t</span>] ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="var">n</span> <span class="id" title="notation">+</span> <span class="id" title="var">m</span>) <span class="id" title="var">x</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ? <a class="idref" href="DOT.Lib.TransformCollect.html#open_transform"><span class="id" title="definition">open_transform</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span>: <span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> (<span class="id" title="var">a</span> : <a class="idref" href="DOT.Definitions.Syntax.Vars.html#avar"><span class="id" title="inductive">avar</span></a>) (<span class="id" title="var">d0</span> : <span class="id" title="inductive">nat</span>) =&gt; <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> (<span class="id" title="var">n</span> <span class="id" title="notation">+</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#d0"><span class="id" title="variable">d0</span></a>) <span class="id" title="var">x</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ? <a class="idref" href="DOT.Lib.TransformCollect.html#open_transform"><span class="id" title="definition">open_transform</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#open_depth_rec"><span class="id" title="definition">open_depth_rec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="DOT.Lib.LibExtra.html#Nat.add_shuffle3"><span class="id" title="lemma">Nat.add_shuffle3</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_transform_trm_def_defs"><span class="id" title="lemma">subst_transform_trm_def_defs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.TransformCollect.html#transform"><span class="id" title="definition">transform</span></a> (<a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#subst_var"><span class="id" title="definition">subst_var</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">intros_fun_ext</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ? <a class="idref" href="DOT.Lib.TransformCollect.html#subst_transform"><span class="id" title="definition">subst_transform</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DOT.Lib.LibExtraProgram.html#ignore_second"><span class="id" title="definition">ignore_second</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">solve_transform_syntax</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">intros</span>; (<span class="id" title="tactic">apply</span> <span class="id" title="axiom">fun_ext_dep</span>; <span class="id" title="tactic">intro</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_collect_trm_def_defs"><span class="id" title="lemma">fv_collect_trm_def_defs</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#open_transform_trm_def_defs"><span class="id" title="lemma">open_transform_trm_def_defs</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#subst_transform_trm_def_defs"><span class="id" title="lemma">subst_transform_trm_def_defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmFvCollect"><span class="id" title="instance">TrmFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmCollect"><span class="id" title="instance">TrmCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitFvCollect"><span class="id" title="instance">LitFvCollect</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#FvCollect"><span class="id" title="class">FvCollect</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitCollect"><span class="id" title="instance">LitCollect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmOpenTransform"><span class="id" title="instance">TrmOpenTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#OpenTransform"><span class="id" title="class">OpenTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmSubstTransform"><span class="id" title="instance">TrmSubstTransform</span></a> : <a class="idref" href="DOT.Lib.TransformCollect.html#SubstTransform"><span class="id" title="class">SubstTransform</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmTransform"><span class="id" title="instance">TrmTransform</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_transform_syntax</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="DefFvOpenCases"><span class="id" title="instance">DefFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#DefAbstractSyntax"><span class="id" title="instance">DefAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Additional Lemmas that are not lifted automatically 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fv_open_term_cases"><span class="id" title="lemma">fv_open_term_cases</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm"><span class="id" title="inductive">trm</span></a>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">/\</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> : <a class="idref" href="DOT.Definitions.Syntax.Terms.html#lit"><span class="id" title="inductive">lit</span></a>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">=</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">\/</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> (<a class="idref" href="DOT.Lib.SyntaxClasses.html#open_rec"><span class="id" title="definition">open_rec</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">=</span> <span class="id" title="notation">\{</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv"><span class="id" title="definition">fv</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#l"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#trm_mutind"><span class="id" title="definition">trm_mutind</span></a>; <span class="id" title="var">sympl_trm_transform</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.LibExtraEnv.html#union_eq_cases"><span class="id" title="lemma">union_eq_cases</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Lib.SyntaxClasses.html#fv_open_cases"><span class="id" title="definition">fv_open_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="TrmFvOpenCases"><span class="id" title="instance">TrmFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#TrmAbstractSyntax"><span class="id" title="instance">TrmAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_open_term_cases"><span class="id" title="lemma">fv_open_term_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="LitFvOpenCases"><span class="id" title="instance">LitFvOpenCases</span></a> : <a class="idref" href="DOT.Lib.SyntaxClasses.html#FvOpenCases"><span class="id" title="class">FvOpenCases</span></a> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#LitAbstractSyntax"><span class="id" title="instance">LitAbstractSyntax</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DOT.Definitions.Syntax.Terms.html#fv_open_term_cases"><span class="id" title="lemma">fv_open_term_cases</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
